<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Tim&#39;s website</title>
  
  
  <link href="https://timdaub.github.io/atom.xml" rel="self"/>
  
  <link href="https://timdaub.github.io/"/>
  <updated>2021-01-16T17:13:14.000Z</updated>
  <id>https://timdaub.github.io/</id>
  
  <author>
    <name>Tim Daubensch√ºtz</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>How I Build JavaScript Apps In 2021</title>
    <link href="https://timdaub.github.io/2021/01/16/web-principles/"/>
    <id>https://timdaub.github.io/2021/01/16/web-principles/</id>
    <published>2021-01-16T17:13:14.000Z</published>
    <updated>2021-01-16T17:13:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>It&apos;s now roughly seven or eight years that I&apos;m building dynamic front ends for the web. From <a href="https://www.ascribe.io/">digital art wallets</a> to games (<a href="https://ipfs.leapdao.org/blog/Planet-A-ccc-ethberlin-recap/">1</a>, <a href="https://timdaub.github.io/videogame">2</a>) and <a href="https://timdaub.github.io/wasm-synth">synthesizers</a>, I&apos;ve seen it all. And since my process of creation has dramatically changed over the years, today, I&apos;d like to share how I&apos;m developing web apps in 2021.</p><h2 id="i-avoid-build-processes.">I avoid build processes.</h2><p>I still remember the debates with colleagues about using <a href="https://babeljs.io/">babel</a> a few years ago. Within the front end development world, transpiling had just become a thing, so we ended up babelifying our builds to use ES6. Our argument back then was that one day, we would be able to push our application&apos;s directory structure on a web server and since all browsers would then support the augmented ES6 features, our app would just work! Without a build process. WOW! That must have been around 2015. When I look at the source code of these old applications now, our technical visions didn&apos;t end up becoming reality.</p><p>Now, I try to keep my build process to a minimum. When I need to write a demo app, I particularly like using <a href="https://babeljs.io/docs/en/babel-standalone#script-tags"><code>&lt;script type=&quot;text/babel&quot;&gt;</code></a>. I love <a href="https://preactjs.com/guide/v10/getting-started/#no-build-tools-route">preact&apos;s &quot;no build tools route.&quot;</a> too. When I have to set up an actual app, I avoid <a href="https://webpack.js.org/">webpack</a> and <a href="https://rollupjs.org/">rollup</a>. I mainly get frustrated about the myriad ways of configuring them. Some minor thing always ends up being broken, which leads to hours of debugging foreign code. And that&apos;s frustrating. Using preact&apos;s no build route, finally something like the above is possible:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;module&quot;</span>&gt;</span><br><span class="line">  <span class="comment">// <span class="doctag">NOTE:</span> You literally don&apos;t need a build process with preact.</span></span><br><span class="line">  <span class="keyword">import</span> { h, Component, render } <span class="keyword">from</span> <span class="string">&apos;https://unpkg.com/preact?module&apos;</span>;</span><br><span class="line">  <span class="keyword">const</span> app = h(<span class="string">&apos;h1&apos;</span>, <span class="literal">null</span>, <span class="string">&apos;Hello World!&apos;</span>);</span><br><span class="line">  render(app, <span class="built_in">document</span>.body);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>When having to use a build tool, I gravitate towards <a href="https://parceljs.org/">parcel</a> or <a href="https://github.com/developit/microbundle">microbundle</a> as they come preconfigured. And in particular, parcel is excellent, as it&apos;s merely using an HTML file as its entry point. To me, that&apos;s promising as it assumes a proper directory structure and properly connected files such that maybe one day I can push my app to the web without that build step.</p><h2 id="i-avoid-transpiling.">I avoid transpiling.</h2><p>For the same reasons as pointed out above, I also try to avoid transpiling. It&apos;s not because I don&apos;t like ESNext features, but more because I want to minimize the risk of getting stuck with the transpiler. Hence, I try to avoid using babel. <a href="https://timdaub.github.io/2020/09/01/typescript/">I also don&apos;t use Typescript</a>. To me, JavaScript is productive enough. Additionally, for <a href="https://reactjs.org/">react</a>-style projects, no transpilers mean I stopped using <a href="https://reactjs.org/docs/introducing-jsx.html">JSX</a>. Instead, I found an excellent library called <a href="https://github.com/developit/htm">htm</a> that uses JavaScript&apos;s template strings. It has a similar syntax to JSX, but it&apos;s not breaking ECMAScript standards and hence needs no transpliation.</p><h2 id="i-avoid-the-new-and-shiny.">I avoid the <em>new</em> and <em>shiny</em>.</h2><p>I even avoid changing the way I work if I don&apos;t feel comfortable or inclined. For example, I never switched to <a href="https://reactjs.org/docs/hooks-intro.html">react hooks</a>. The <a href="https://reactjs.org/docs/state-and-lifecycle.html">lifecycle methods</a> that I initially know from iOS Objective-C programming are - in my opinion - a beautiful metaphor for writing front end components. And neither did I have any issues with my sites&apos; performance. I would make the switch if I started to have problems. But I don&apos;t. The same goes for up and coming frameworks. Angular V2? <a href="https://svelte.dev/">Svelte</a>? Cool, but why relearn a framework when I&apos;m already productive with the one I use?</p><h2 id="i-test-everything.">I test EvErYtHiNg.</h2><p>When I started front-end development, testing was complicated. Only a few front end developer colleagues tested their apps properly. I ended up doing a lot of testing by hand. It was frustrating and unproductive. But testing front ends has improved dramatically over the years. Not only have the tools been significantly enhanced.</p><p>We, as front-end developers, have now also figured out how to correctly write front end tests. Finally, we&apos;re able to distinguish between functional code and presentational code. For functional code, we now write unit tests. For presentational code, we use snapshot-based testing and integration tests. I&apos;m pleased about tools like <a href="https://www.cypress.io/">cypress</a> that is great for integration tests. I also like <a href="https://github.com/avajs/ava/">ava</a> for unit tests.</p><h2 id="i-optimize-for-performance-and-quality.">I optimize for performance and quality.</h2><p>I used to be eager about building extensively functional software: the more features, the better. I&apos;m not anymore. Instead, I try to develop software that works well for my users. I strive for quality. So I try to measure my build&apos;s size. I take proper care about delivering my application, meaning I turn on compression and <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching">caching</a>. I care about optimizing my static assets like pictures. And I like to check my apps by using tools like <a href="https://developers.google.com/speed/pagespeed/insights/?hl=de">PageSpeed Insights</a> or <a href="https://developers.google.com/web/tools/lighthouse">lighthouse</a>.</p><h2 id="i-use-my-own-work">I use my own work</h2><p>From experience, I learned that I hardly ever get stuck on a algorithmic problem. On the contrary, I get motivated to learn something new and excel in the process. However, I caught my self often spending many hours on debugging other people&apos;s code. Mainly when it&apos;s third-party libraries that I included via npm. Once, I thought that using npm packages was a JavaScript developer&apos;s superpower. Now, I know that it can also be their curse.</p><p>Instead of collecting heaps of third-party code, I now prefer following <a href="http://hintjens.com/blog:96">Peter Hintjens&apos; principles for writing good code</a>. I &quot;use my own work.&quot; Meaning, I dare to write seemingly complex code myself. I still won&apos;t roll my own crypto or write a date library, but I dare to implement parts of a protocol or build an algorithm. It&apos;s not to say that I ditch every npm package and go npm-keto-diet. No, instead, I take a more mindful approach towards dependencies and only include them when I truly need them.</p><p>I try to do that by leaving my technical vision at the doorstep of my office, so that I can now focus on solving the problems at hand. I try to stop worrying about eventualities far in the future as I view that as speculation. In cases I have past experiences, I use it to form my decision. For unchartered teritory, I move carefully, step by step.</p><h2 id="i-use-open-source-to-my-advantage.">I use open source to my advantage.</h2><p>I&apos;m building websites since I&apos;m a teenager. And had I open-sourced and maintained a few pieces of code that I need frequently, I&apos;d be more productive now. Unfortunately, I was short-sighted. Surprisingly, I didn&apos;t think about still using JavaScript at 29 years of age &#x1F602;</p><p>I stopped framing open source mainly around certain virtues like free speech, fairness or certain politics. They&apos;re still important virtues for me, but I learned that I could use open source also for building a personal toolset.</p><p>Extracting a library from a codebase allows me to think about it from a user&apos;s perspective. It means I&apos;m able to think about a piece of code&apos;s interfaces emphatically. Additionally, there&apos;s positive peer pressure. I&apos;m not going to release shit to the world. When my project is public, it&apos;s going to have a proper README and some docs. And it&apos;s going to be tested. Since everybody can see it, I might as well create something I can be proud of.</p><p>Hence, contributing to open source, for me, is about building high-quality software. Being anxious about not being able to monetize this particular piece of code has become less of a concern. <a href="https://github.com/sindresorhus">sindresohrus</a> inspired me to treat open source packages like my personal toolbox.</p><h2 id="conclusion">Conclusion</h2><p>And that&apos;s my incomplete list of principles. I&apos;m sure there&apos;s more than just these. Anyway, I still find some of these points quite controversial. I&apos;m sure they won&apos;t work for everyone as all our contexts differ. But working solo as a freelancer, I&apos;ve found that these principles contribute to me being content about what I&apos;m doing. Hence, I was eager to share them.</p><p>I&apos;m curious to hear other&apos;s thoughts and see if they&apos;ve taken similar paths. Please reach out! Also, don&apos;t forget to subscribe to my newsletter!</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;It&amp;apos;s now roughly seven or eight years that I&amp;apos;m building dynamic front ends for the web. From &lt;a href=&quot;https://www.ascribe.io/&quot;&gt;</summary>
      
    
    
    <content src="https://timdaub.github.io/assets/images/web-principles-image.png" type="image"/>
    
    
    
    <category term="JavaScript" scheme="https://timdaub.github.io/tags/JavaScript/"/>
    
    <category term="Principles" scheme="https://timdaub.github.io/tags/Principles/"/>
    
    <category term="Software Engineering" scheme="https://timdaub.github.io/tags/Software-Engineering/"/>
    
    <category term="Process" scheme="https://timdaub.github.io/tags/Process/"/>
    
  </entry>
  
  <entry>
    <title>WASM-STREAM, a virtual stage for digital artists</title>
    <link href="https://timdaub.github.io/2020/12/27/wasm-stream/"/>
    <id>https://timdaub.github.io/2020/12/27/wasm-stream/</id>
    <published>2020-12-27T13:40:13.000Z</published>
    <updated>2020-12-27T13:40:13.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>TL;DR:</strong> I built a <a href="https://audio.daubenschuetz.de/assets/">synthesizer</a> that allows streaming directly to an <a href="https://audio.daubenschuetz.de">internet radio stream</a>. Below is the live stream:</p><audio controls autoplay preload="auto"><source src="https://audio.daubenschuetz.de/stream.ogg" type="audio/ogg"><source src="https://audio.daubenschuetz.de/stream" type="audio/mpeg"><p>Your browser does not support the audio element. </p></audio><p></p><hr><p>It&apos;s that time between Christmas and new year again, where you can usually find me at Leipzig&apos;s Congress Zentrum on my computer hacking away. It&apos;s chaos congress time. Given this year&apos;s pandemic, the &quot;37c3&quot; however, was moved to the internet and renamed to <a href="https://rc3.world">&quot;rc3&quot;, the Remote Chaos Communication Congress</a>.</p><p>Earlier this month, the iconic congress build-up started. This time around, building up didn&apos;t involve moving heavy crates of mate tea around. Instead, it meant that everyone started designing, drawing, and building their assembly maps for the &quot;rc3.world&quot;. A <a href="https://events.ccc.de/2020/09/04/rc3-remote-chaos-experience/">2D virtual space</a> that&apos;s supposed to replace this year&apos;s lack of physical space.</p><p>The rc3.world software is a fork of <a href="https://workadventu.re/">workadventu.re</a>, a 2D game simulating a virtual work environment with avatars. Within this 2D map of the virtual congress, the organizers invited all assemblies to build their own spaces. And so, as the build-up for <a href="https://www.dist0rtion.com/">Social Dist0rtion Protocol</a> assembly began, I had an idea for a project.</p><figure><img src="/assets/images/wasm-synth-screenshot.png" alt><figcaption><a href="https://audio.daubenschuetz.de/assets/">wasm-synth</a>, the project I launched at last year&apos;s c3</figcaption></figure><p>At last year&apos;s congress in Leipzig, I had launched <a href="https://audio.daubenschuetz.de/assets/">wasm-synth</a>, a synthesizer built in WebAssembly. Naturally, this time I was eager to take the project to the next stage. Hence, roughly a week ago, I started to work on a new project called &quot;WASM-STREAM&quot; - an extension to wasm-synth.</p><p><a href="https://github.com/social-dist0rtion-protocol/wasm-stream">WASM-STREAM</a> is a virtual stage for digital artists. Using WASM-STREAM, an artist can broadcast their play with wasm-synth to an internet radio stream. More importantly, though, this means that they can take the stage on the <a href="https://www.dist0rtion.com/">Social Dist0rtion Protocol</a>&apos;s assembly and jam away to a virtually present audience.</p><figure><img src="/assets/images/wasm-stream.png" alt><figcaption>Social Dist0rtion Protocol&apos;s dance floor in the rc3.world</figcaption></figure><p>So how did I build it?</p><h2 id="a-first-little-demo">A First Little Demo</h2><p><a href="https://audio.daubenschuetz.de/assets/">wasm-synth</a> is a project that I built deliberately to showcase the power of the web. At the beginning of the year, I wrote <a href="https://timdaub.github.io/2020/02/19/wasm-synth/">a blog post</a> outlining its technical details. It&apos;s using the <code>AudioWorklet</code> and some WebAssembly-transpiled code to render audio in real-time in the user&apos;s browser.</p><p>Now, workadventure, the software ccc uses to run their rc3.world, is also built on the web and allows embedding audio streams. So I thought, why not take the audio generated in wasm-synth and stream it to everyone in the rc3 world.</p><p>In a way, it sounds like not that big of a deal to build an audio streaming client within a website. But remember that a browser&apos;s networking ability is limited. While we&apos;ve come a long way from the <code>XMLRequest</code> API to <code>fetch</code>, <code>WebSocket</code> and <code>WebRTC</code>, these concepts only allow talking upstream if their authors deliberately built their upstream application for supporting them.</p><p>Naive as I Am, I started by deploying <a href="https://icecast.org/">icecast2</a> to a small Hetzner instance. I configured an authorized mount point that allows a streamer to connect using client software. Then I looked for a way to stream audio directly to icecast from a browser. And found... nothing.</p><p>Well, I did find something. It&apos;s called <a href="https://webcast.github.io/">webcast</a>, and it&apos;s a <a href="https://github.com/webcast/webcast.js/blob/master/SPECS.md">WebSocket-based subprotocol</a> that allows sending binary audio data between a client and a server. In their <a href="https://github.com/webcast/webcast.js#server">README.md</a>, the authors also mention webcast&apos;s compatibility with <a href="https://www.liquidsoap.info/">liquidsoap</a>, a DSL for audio stream processing.</p><p>So my first attempt at plugging these things together involved encoding the <code>Float32Array</code> data from the <code>AudioWorklet</code> into an mp3 stream using <a href="https://github.com/toots/shine/">libshine</a> (that has a wasm JavaScript package) and then sending it to a <a href="https://www.liquidsoap.info/doc-dev/harbor.html">liquidsoap &quot;harbor&quot;</a> via webcast. Liqidsoap would then convert the mp3 stream to ogg-vorbis, make it stereo, and forward it to the icecast server.</p><p>And, to my surprise, it worked. When I hit some keys on the wasm-synth, they got encoded and sent to the audio stream. With a bit of delay, I heard what I had just played. Cool!</p><p>Anyways, with my small little demo, I was galvanized and motivated enough to spend more time building something that would work for the congress.</p><h2 id="the-wasm-stream-architecture">The WASM-STREAM Architecture</h2><p>Ultimately, liquidsoap was not well-suited for my purpose. I also quickly realized that all I had to do was build a proxy between the <a href="https://gist.github.com/ePirat/adc3b8ba00d85b7e3870">icecast protocol</a> and the <a href="https://github.com/webcast/webcast.js/blob/master/SPECS.md">webcast protocol</a>. And that&apos;s what I ended up building. A small <a href="https://github.com/webcast/webcast.js/blob/master/SPECS.md">JavaScript application</a> implementing two protocols. It listens for incoming WebSocket connections and calls icecast with a loooooonng PUT request to establish a stream.</p><p>WASM-STREAM itself doesn&apos;t do any encoding. It can, however, route an <code>audio/ogg</code> or an <code>audio/mpeg</code> stream from webcast to icecast. The encoding from WAV to mp3 takes place on the user&apos;s device already when the play the synthesizer.</p><h2 id="how-to-use-wasm-stream">How To Use WASM-STREAM</h2><p>Whether you have a ticket to rc3 or not, you can tune into the stream at <a href="https://audio.daubenschuetz.de/stream">https://audio.daubenschuetz.de/stream</a>. It&apos;s an mp3-encoded stream, meaning it won&apos;t work in all browsers equally (Firefox works natively; Chrome et al. only support ogg/vorbis natively). If it doesn&apos;t, try a desktop application like iTunes or VLC.</p><p>The stream is continuously online. But if you don&apos;t hear anything then that&apos;s because nobody is currently playing the <a href="https://audio.daubenschuetz.de/assets/">WASM-SYNTH</a>.</p><p>Finally, you&apos;re able to &quot;dance&quot; on the Social Dist0rtion Protocol&apos;s assembly dance floor. The rc3 orga was nice enough to allow us streaming audio on our map. <a href="https://rc3.world/rc3/room/93840a8f-88f7-4f11-bb61-68800c4d4962/">Click here</a> to visit us directly on the rc3.world map.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;TL;DR:&lt;/strong&gt; I built a &lt;a href=&quot;https://audio.daubenschuetz.de/assets/&quot;&gt;synthesizer&lt;/a&gt; that allows streaming directly to an &lt;</summary>
      
    
    
    
    
    <category term="music" scheme="https://timdaub.github.io/tags/music/"/>
    
    <category term="web assembly" scheme="https://timdaub.github.io/tags/web-assembly/"/>
    
    <category term="chaos communication congress" scheme="https://timdaub.github.io/tags/chaos-communication-congress/"/>
    
    <category term="synthesizer" scheme="https://timdaub.github.io/tags/synthesizer/"/>
    
    <category term="audio stream" scheme="https://timdaub.github.io/tags/audio-stream/"/>
    
    <category term="concert venue" scheme="https://timdaub.github.io/tags/concert-venue/"/>
    
    <category term="virtual" scheme="https://timdaub.github.io/tags/virtual/"/>
    
  </entry>
  
  <entry>
    <title>Introducing rugpullindex.com, the first decentralized data set index in the world</title>
    <link href="https://timdaub.github.io/2020/12/11/rugpullindex/"/>
    <id>https://timdaub.github.io/2020/12/11/rugpullindex/</id>
    <published>2020-12-11T10:59:01.000Z</published>
    <updated>2020-12-11T10:59:01.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css" integrity="sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/rCkibIcC/OmWo5f0EA48Vf8CytHzGrSwbQ" crossorigin="anonymous"><h2 id="tldr">TL;DR</h2><p><strong>TL;DR:</strong> I built a financial index that <strong>rates data sets</strong> by their markets&apos; performance (<strong>liquidity</strong> and <strong>equality of liquidity shares</strong>). <strong>Check out the <a href="https://rugpullindex.com">website</a></strong> and the minimalistic <a href="https://rugpullindex.com/changelog.txt">blog</a>, or keep on reading the article.</p><p><img src="/assets/images/rugpullindex.png" alt="A screenshot of therugpullindex.com website" style="border: 5px solid #2bbc8a; border-radius: 5px;"></p><h2 id="why-building-a-data-set-index">Why Building a Data Set Index?</h2><p><strong>Would you pay a stranger on the internet</strong> to buy a data set they&apos;re offering without knowing them or ever having seen the data? Tough decision! But that&apos;s precisely the type of situation <a href="https://oceanprotocol.com">Ocean Protocol</a> users face in its newly-launched decentralized <a href="https://market.oceanprotocol.com">data set market</a> [3].</p><p>I&apos;ll spare you most of the details of how it all works and say this: 2020&apos;s most transforming technology has been <strong>on-chain markets</strong>. In particular, the implementation that <a href="https://uniswap.org/">uniswap.org</a> is using called <strong>automated market makers</strong>.</p><p>Simply put, they work by incentivizing users to <em>pool</em> a pair of assets at a ratio they deem as the assets&apos; current prices. These users, I herein call them <strong>liquidity providers</strong>, e.g., pool 1 ETH and 540 USDC, so that when a buyer of either asset comes along, they can immediately trade 1 ETH for 540 USDC or 540 USDC for 1 ETH. This principle works fantastically at scale, as the pool incentivizes liquidity-providing by charging buyers and sellers a small fee, which is distributed by the pool to each liquidity provider, respectively [1].</p><p><img src="/assets/images/marketmakers.png" style="background-color: white;border: 5px solid black; border-radius: 5px;"></p><p>This model has been so successful that there&apos;ve been days where decentralized trading on Uniswap outperformed volumes on Coinbase! Which, of course, has lots of implications on the cryptocurrency space. I think it&apos;s no overstatement to say that automated market makers may be <strong>the killer app for crypto</strong>.</p><div class="twitter-wrapper"><blockquote class="twitter-tweet"><a href="https://twitter.com/haydenzadams/status/1300034164830408704"></a></blockquote></div><script async defer src="//platform.twitter.com/widgets.js" charset="utf-8"></script><p>But there&apos;s one implication I&apos;ve been particularly keen on exploring: all <strong>the openly-accessible data produced by on-chain markets</strong>. See, if you ever tried building a trading bot, you&apos;ll have noticed the terrible resolution publicly-available market data has. You might have also noticed that it&apos;s quite difficult even to find data at all. It&apos;s not by accident. <strong>Trading data is valuable</strong>.</p><h2 id="rating-a-data-set-by-its-markets-performance">Rating a Data Set by its Market&apos;s Performance</h2><p>Remember when I asked you at the beginning of this article about <strong>buying a data set from a random stranger on the internet?</strong> Well, it turns out that Ocean Protocol is now betting on the same technology that made Uniswap successful. They allow users to publish a data set, along with a fungible <strong>data token</strong> and an integrated <strong>automated market maker</strong>. Meaning, you can now buy access to a data set by purchasing tokens. These tokens get priced by liquidity providers providing a ratio of OCEAN Tokens to <em>data tokens</em>.</p><p>However, just because data sets are now available for sale on the market, doesn&apos;t mean you know they&apos;re valuable! After all, if ebay.com didn&apos;t have a rating system for sellers, how would you know which seller to trust?</p><p>On ebay.com, you know which seller to trust because you can see how many articles they&apos;ve sold and what each buyer&apos;s experience was. It&apos;s a simple identity-based rating system.</p><p>But within the anarchistic world of cryptocurrencies, there are no working identity-based rating systems! Instead, the space is filled with <a href="https://en.wikipedia.org/wiki/Sock_puppet_account">sock puppets</a> and <a href="https://en.wikipedia.org/wiki/Sybil_attack">sybils</a>. <strong>Then, without buying a data set first, how are we supposed to know if a data set is valuable or an outright scam?</strong></p><h2 id="introducing-rugpullindex.com">Introducing rugpullindex.com</h2><p>That&apos;s where <a href="https://rugpullindex.com">rugpullindex.com</a> comes into play. <strong>We crawl all of Ocean Protocol&apos;s data token pools daily</strong> and rate each market&apos;s liquidity provider distribution by its equality using the <a href="https://en.wikipedia.org/wiki/Gini_coefficient">Gini coefficient</a>. While ranking markets based on their liquidity is common industry-practice, calculating a Gini score for each market&apos;s liquidity provider shares isn&apos;t. The idea behind this is that the more liquidity providers with an equal share back an asset in the market, the less likely it is for a &quot;rug pull&quot; attack to happen (details <a href="https://github.com/oceanprotocol/multi-repo-issue/issues/30#issuecomment-726132174">here</a>). By factoring in a pool&apos;s relative liquidity, it allows us to derive a score <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span> that is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>s</mi><mo>&lt;</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">0 &lt; s &lt; 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span></span></span></span>.</p><p>For users of <a href="https://rugpullindex.com">rugpullindex.com</a>, this <strong>yields a few attractive benefits</strong>:</p><ol type="1"><li>They can now choose to adjust their data set investments based on market data.</li><li>They can decide to invest in data sets relative to their performance on to <em>increase their diversivication and hence lower their exposure risk</em>. And finally;</li><li>If they&apos;re unsure about <strong>sending a random stranger on the internet money for a data set</strong>, they can check out the data set&apos;s market performance to make an informed decision.</li></ol><p>It&apos;s a widely-known fact that index-based investment yields superior results compared to stock picking [2]. The same is true when <em>investing</em> in data, which makes me excited about working on this project.</p><h2 id="what-does-the-future-hold">What Does The Future Hold?</h2><p>I have many ideas for <a href="https://rugpullindex.com">rugpullindex.com</a> and not as much time as I&apos;d like to have. However, my overarching goal is to make the ranking so reliable that I can build a smart contract-based index fund on top of it.</p><p>I think that rating assets based on their markets&apos; performance is valuable occupation in itself. Not only within the data set market but beyond. I&apos;m particularly interested in rating a wide range of on-chain asset markets, but I&apos;m also thinking about rating more on-chain intellectual property markets. I&apos;m eager to crawl more data and explore. Until then, I hope you&apos;re having fun using <a href="https://rugpullindex.com">rugpullindex.com</a>.</p><p><em><strong>If you have questions, feedback, or business inquiries, please contact me: tim@daubenschuetz.de</strong>. If you want to follow along by building journey, <strong>please subscribe to my newsletter at the end of the page!</strong></em></p><h2 id="references">References</h2><ul><li>1: <a href="https://ethresear.ch/t/improving-front-running-resistance-of-x-y-k-market-makers/1281">Ethresearch: Improving front running resistance of x*y=k market makers</a></li><li>2: KAHNEMAN, Daniel. Thinking, fast and slow. Macmillan, 2011.</li><li>3: <a href="https://blog.oceanprotocol.com/oceans-on-ethereum-mainnet-ba9be1aee0ce">Ocean&#x2019;s on Ethereum Mainnet</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css&quot; integrity=&quot;sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/r</summary>
      
    
    
    
    
    <category term="blockchain" scheme="https://timdaub.github.io/tags/blockchain/"/>
    
    <category term="ethereum" scheme="https://timdaub.github.io/tags/ethereum/"/>
    
    <category term="smart contracts" scheme="https://timdaub.github.io/tags/smart-contracts/"/>
    
    <category term="startup" scheme="https://timdaub.github.io/tags/startup/"/>
    
    <category term="index" scheme="https://timdaub.github.io/tags/index/"/>
    
    <category term="markets" scheme="https://timdaub.github.io/tags/markets/"/>
    
    <category term="automated market makers" scheme="https://timdaub.github.io/tags/automated-market-makers/"/>
    
  </entry>
  
  <entry>
    <title>I got 99 problems but `SameSite` cookies ain&#39;t one</title>
    <link href="https://timdaub.github.io/2020/12/03/samesite/"/>
    <id>https://timdaub.github.io/2020/12/03/samesite/</id>
    <published>2020-12-03T14:19:24.000Z</published>
    <updated>2020-12-03T14:19:24.000Z</updated>
    
    <content type="html"><![CDATA[<p>Browser vendors like Mozilla or Google have introduced new default values for the <code>sameSite</code> attribute when setting browser cookies [1]. While this change is great for preventing third-party tracking through cookies, it can make a developer&apos;s life quite frustrating when wanting to debug a local front end pointing to a remote server.</p><p>Especially, when Chrome and Firefox give confusing or no warnings at all. Here&apos;s an example of Chrome complaining:</p><p><img src="/assets/images/chrome_samesite.png"></p><p>In Firefox, there&apos;ll likely be a small warning in the console:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Some cookies are misusing the &#x201C;SameSite&#x201C; attribute, so it won&#x2019;t work as expected </span><br></pre></td></tr></table></figure><h2 id="the-problem">The Problem</h2><p>For me the problem was the following: I had a staging server running online. It contained sample data that I preferred using to test my front end over a local backend server.</p><p>There&apos;s a similar problem that developers run into with this type of setup: CORS. I usually encounter it either when:</p><ul><li>I host front end and back end on different domains</li><li>I spin up a local front end development server and connect it to a backend running online.</li></ul><p>That problem, I tend to prefer solving it by downloading a browser plugin that temporarily disabled CORS. The recent <code>sameSite</code> cookie attribute change, however, is different in that it&apos;s recent. I only found limited information about bypassing it online. There are no browser plugins yet either. Still, it can be easily fixed by modifying some settings in your browser.</p><h2 id="disabling-samesite-policy-in-google-chrome">Disabling sameSite policy in Google Chrome</h2><ol type="1"><li>Navigate to <code>chrome://flags/#same-site-by-default-cookies</code>.</li><li>Set <em>&quot;SameSite by default cookies&quot;</em>, <em>&quot;Enable removing SameSite=None cookies&quot;</em>, <em>&quot;Cookies without SameSite must be secure&quot;</em> to <code>Disabled</code>.</li><li><strong>Make sure to restart Chrome.</strong></li></ol><p>When trying your <code>Set-Cookie</code> request, the yellow overlay in the request inspection tab should now be gone and your cookies should show up in the &quot;Application&quot; tab.</p><h2 id="disabling-samesite-policy-in-mozilla-firefox-developer-edition">Disabling sameSite policy in Mozilla Firefox Developer Edition</h2><p>Go to <code>about:config</code> and make sure you have the following settings [2]:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">network.cookie.sameSite.laxByDefault: false</span><br><span class="line">network.cookie.sameSite.noneRequiresSecure: false</span><br></pre></td></tr></table></figure><h2 id="conclusion">Conclusion</h2><p>Issues with blocked <code>SameSite</code> cookies in local development environments can be fixed by temporarily disabling sameSite policies in Firefox and Chrome. To learn more about the <code>sameSite</code> cookie attribute, check <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite"><code>sameSite</code> cookies on MDN</a>.</p><h2 id="references">References</h2><ul><li>1: <a href="https://hacks.mozilla.org/2020/08/changes-to-samesite-cookie-behavior/">Mozilla Hacks: Changes to SameSite Cookie Behavior &#x2013; A Call to Action for Web Developers</a></li><li>2: <a href="https://stackoverflow.com/questions/65130753/disable-samesite-cookie-policy-in-firefox-developer-edition/65130891#65130891">Answering my own question on StackOverflow about disabling SameSite cookies in Firefox</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Browser vendors like Mozilla or Google have introduced new default values for the &lt;code&gt;sameSite&lt;/code&gt; attribute when setting browser co</summary>
      
    
    
    
    
    <category term="web development" scheme="https://timdaub.github.io/tags/web-development/"/>
    
    <category term="cookies" scheme="https://timdaub.github.io/tags/cookies/"/>
    
    <category term="samesite" scheme="https://timdaub.github.io/tags/samesite/"/>
    
    <category term="google chrome" scheme="https://timdaub.github.io/tags/google-chrome/"/>
    
    <category term="mozilla firefox" scheme="https://timdaub.github.io/tags/mozilla-firefox/"/>
    
    <category term="same origin" scheme="https://timdaub.github.io/tags/same-origin/"/>
    
  </entry>
  
  <entry>
    <title>web3 is a stupid idea</title>
    <link href="https://timdaub.github.io/2020/09/08/web3/"/>
    <id>https://timdaub.github.io/2020/09/08/web3/</id>
    <published>2020-09-08T17:02:51.000Z</published>
    <updated>2020-09-08T17:02:51.000Z</updated>
    
    <content type="html"><![CDATA[<p>A long time ago, I gave a talk in front of a full audience talking about BigchainDB, a company I worked for to create a (scalable) decentralized database. As we just had released our browser-compatible JavaScript driver, enthusiastically, I told the audience: &quot;... and so by using our driver from within the browser, your app won&apos;t need a backend anymore&quot;!</p><p>That must have been around 2017 when I first discovered Metamask, and started drinking Ethereum&apos;s web3 cool-aid. Arguably, web3 quickly became something extraordinary. All of a sudden, users could download a browser extension and directly interact with a public network. In a sense, it still is extraordinary.</p><p>If you have an extension like Metamask installed in your browser today, you can visit sites on the web that allow you to do the craziest things with your digital money. An excellent recent example of this are DeFi (short for &quot;Decentralized Finance&quot;) websites. They allow a user to engage in trading cryptocurrencies, providing liquidity, and peer to peer lending. With the click of a button and no mandatory signups, you&apos;re able to pool thousands of dollars. That is super cool and confirms the viability of the web3 vision.</p><p>But actually, what is the web3 vision? It may be that there never was such a thing in the first place. All I know is that someone named a library &quot;web3.js&quot;. Developers use it to talk to remote or local Ethereum nodes when working in a browser environment (JavaScript).</p><p>On a web3-enabled website, when a user now clicks a button to, e.g., pool ether in a smart contract, most calculations are supported by the web3.js library that periodically talks to an Ethereum node. Ultimately web3.js allows the user to send the transaction to the node to transfer the user&apos;s money.</p><p>Often, a key-management program, like Metamask, is running on the user&apos;s browser. It allows the user to sign transactions with the same key on different websites.</p><p>In a nutshell, that&apos;s web3. It&apos;s supposed to be a play on words regarding &quot;web 2.0&quot;. Web 2.0 is the upgrade of web standards that gave us modern single-page applications and dynamic AJAX loading. And Web3? An advancement towards what exactly? Money websites?</p><p>Indeed, if you were capable of cleaning your mind of specific memories, specifically, let&apos;s say you could do <code>grep -l web3 brain | xargs rm</code>. And then someone asked you how you&apos;d envision a blockchain-based and smart-contract-enabled web3; you&apos;d likely describe an ecosystem vastly different to what it is today. You&apos;d think about peer-2-peer networks, light clients, and renewed web standards. That&apos;s precisely not web3.</p><p>In today&apos;s experience it will instead be mostly shitty react websites that crash or stop working when you&apos;ve neglected to install Metamask (or other key-management plugins). Opening a web3 website&apos;s network console, you&apos;ll see that it&apos;s making an excessive amount of RPC request to an Ethereum full node. Sorry, I meant to say Infura node, a hugely-popular cloud provider hosting Ethereum full nodes. That&apos;s kinda stupid.</p><p>And since Metamask allows developers to prompt the user for specific contract calls, what&apos;s even more stupid, is that all your money may be at the risk of continually getting stolen with the accidential click of a button. Either by someone hacking the website&apos;s server. Or by the website provider becoming corrupt themselves. Or simply because a website pretends to do X when it does Y (stealing all your money).</p><p>But instead of continuing to rant, I&apos;d now like to now point out what I think should change about web3:</p><ul><li>We should stop building key-management plugins and start thinking about a standardizable web API. We must stop training our users to install shitty browser plugins!</li><li>We need to make light clients work as soon as possible and become independent from third-party services like thegraph and Infura.</li><li>We need to improve our client libraries (ethers.js and web3.js) by dramatically simplifying them and making them bug-free (god damn it!)!</li><li>We need to take advantage of some of the blockchain&apos;s fundamental properties. Most data is immutable so let&apos;s start caching things.</li></ul><p>And finally, I think we should stop focusing all of our attention on bumping the web&apos;s version number. Maybe we should reconsider writing more backends. We should promote more work on permissionless networks like Open Gas Station Network that allow developers to upgrade a user&apos;s experience. And, we should start thinking of a machine network of blockchains more often. In many ways, web3 was just a cool demo. But let&apos;s come up with something better. Just imagine what happens once there&apos;s a deeper integration of money into computer systems!</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;A long time ago, I gave a talk in front of a full audience talking about BigchainDB, a company I worked for to create a (scalable) decent</summary>
      
    
    
    
    
    <category term="blockchain" scheme="https://timdaub.github.io/tags/blockchain/"/>
    
    <category term="ethereum" scheme="https://timdaub.github.io/tags/ethereum/"/>
    
    <category term="web3" scheme="https://timdaub.github.io/tags/web3/"/>
    
    <category term="usability" scheme="https://timdaub.github.io/tags/usability/"/>
    
    <category term="web standards" scheme="https://timdaub.github.io/tags/web-standards/"/>
    
    <category term="metamask" scheme="https://timdaub.github.io/tags/metamask/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript is weakening the JavaScript ecosystem</title>
    <link href="https://timdaub.github.io/2020/09/01/typescript/"/>
    <id>https://timdaub.github.io/2020/09/01/typescript/</id>
    <published>2020-09-01T16:47:38.000Z</published>
    <updated>2020-09-01T16:47:38.000Z</updated>
    
    <content type="html"><![CDATA[<p>In recent months, I&apos;ve noticed a dramatic increase in TypeScript packages on GitHub. I usually come across them when checking repositories of the people I follow like. Or, when I&apos;m looking for dependencies to solve a problem in my projects. And the more TypeScript packages I&apos;m encountering, the more often I get reminded of this little annoyance towards the project.</p><p>My context is that I&apos;ve not looked into TypeScript yet. That means I have no idea how it works. Unfortunately, this is now starting to become kind of a problem when searching for dependencies. It does, when I either willingly or accidentally include a TypeScript package into my projects. Mainly because my package-choosing criteria include:</p><ul><li>picking packages that I potentially can contribute to (e.g., a lesser-known package that contains well-written code); or</li><li>picking packages that are well-maintained by a large community but may include code that I&apos;d not be able to easily contribute to (e.g., a popular package using a C library internally)</li></ul><p>I&apos;ve put these criteria in place willingly to achieve a certain quality standard when building applications. Either because I can fix bugs myself quickly, or because I&apos;m able to rely on a strong community to fix them. However, with TypeScript packages in npm, there&apos;s now this opaque problem of not knowing the language or quickly telling a package&apos;s language and its community size. Also, TypeScript could be just another CoffeeScript.</p><p>So essentially, the problem is that TypeScript authors publish their packages on npm, the package manager for Node.js. And to me, that&apos;s what is weakening the JavaScript ecosystem. Since its inception, and throughout trends like Coffeescript, npm has mostly held the promise of only hosting JavaScript packages. However, this promise is <code>rejected()</code> (lol) by many authors publishing their TypeScript-to-JavaScript transpiled packages.</p><p>Indeed, it makes sense considering that Microsoft markets TypeScript as a &quot;superset of JavaScript&quot; and since it &quot;compiles&quot; to JavaScript, why not publish packages to npm? But in terms of equality and identity, TypeScript is not JavaScript. After all, you&apos;d not consider C and Objective-C the same either, or would you? In both examples, the languages are subsets/supersets but were conceived with different goals in mind to solve other problems.</p><p>Therefore, TypeScript authors should, in my opinion, do something along the following lines:</p><ul><li>namespacing their TypeScript packages; or</li><li>build and publish their packages to their package manager.</li></ul><p>However, continuing to publish TypeScript packages to npm is, in my opinion weakening the JavaScript ecosystem as it&apos;s splitting its community and polluting the npm namespace.</p><h2 id="controversy">Controversy</h2><ul><li>For a short time, there was an <a href="https://news.ycombinator.com/item?id=24344506">intense conversation</a> on Hacker News. But for unknown reasons, my post got marked as <code>[flagged]</code>. I&apos;ve written an email to the operators.</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;In recent months, I&amp;apos;ve noticed a dramatic increase in TypeScript packages on GitHub. I usually come across them when checking reposi</summary>
      
    
    
    
    
    <category term="engineering" scheme="https://timdaub.github.io/tags/engineering/"/>
    
    <category term="typescript" scheme="https://timdaub.github.io/tags/typescript/"/>
    
    <category term="javascript" scheme="https://timdaub.github.io/tags/javascript/"/>
    
    <category term="ecosystem" scheme="https://timdaub.github.io/tags/ecosystem/"/>
    
    <category term="npm" scheme="https://timdaub.github.io/tags/npm/"/>
    
    <category term="nodejs" scheme="https://timdaub.github.io/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>Eventual Consistency and Jazz</title>
    <link href="https://timdaub.github.io/2020/05/02/jazz/"/>
    <id>https://timdaub.github.io/2020/05/02/jazz/</id>
    <published>2020-05-02T07:11:33.000Z</published>
    <updated>2020-05-02T07:11:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>The week before the first of May, I drove home to visit the family. After all, we had planned to go skiing when the virus hit my region of origin quite harshly. Additionally, my grandparents weren&apos;t doing all that well, so there was no consensus in the family on what to do genuinely.</p><p>I stayed in Berlin. At least half of my friends drove southwards to their families. And then in the south, I have no idea what people did. But naively judging by the numbers, Berliner&apos;s (at least in March) were less naughty and paid close attention to their central coordinator (the German government, the WHO?).</p><p>And then the second half of March and first of April were really just the weirdest moments of my life. Suddenly, there was actual social distancing and not physical distancing. It seemed that not only I but everyone was struggling one way or another. I felt mistrust building, especially since proper video calling simply didn&apos;t work well, but also since nobody was supposed to go out and have a healthy life. My natural paranoia gave it the rest.</p><p>But I think the weirdest part in all of this story played the city of Berlin. Why? Because it seemed that people genuinely didn&apos;t give a shit about the virus, but at the same time, everything worked so smoothly. I mean, nothing had changed in the city. People went to parks, had their coffee. Some even still went to work. Already in &quot;the outbreak&apos;s&quot; first week, lots of shops had completely turned around their money-making procedures. Instead of having to enter a cafe, now you had to scream &quot;due Cappuccini&quot; through a street-level window. The barista, a weird looking hipster guy, would then in safe proximity brew your drink while suddenly you were able to pay cashless.</p><p>Yes, you heard that right. You were able to pay cashless. In Berlin. But not only that. Additionally, the guy had set up a considerable area of very spacious benches outside. That meant keeping a safe distance while slurping Cappuccini was quickly possible.</p><p>Elsewhere, this early model of successful adaption quickly spread. My local baker soon had introduced spacious queues and even a pipeline system to handle customers. So while they had two entrances and exits before the crisis, they suddenly had one deliberate entry and one door. Eventually, they went further by introducing a cashier person (handling all the money) and a bread person (packing the bread).</p><p>The shop next to the baker did another cool thing. They gave a 25% discount on cashless payments. Not sure they still do it, but I found it a nice touch.</p><p>Many other things happened too. I could go on. However, eventually, I wanted to see my family, and so I rented a car and drove down south (I used to take the train). And I can tell you, it was great! Not having seen my brother, mom, and dad since Christmas, lots of information had to be replicated. Lots of stories hat to be synchronized. Tears, laughter, hope, despair. For sure, we had it all! And eventually, we phased.</p><p>In fact, there was one particular moment that really got me phased (or amazed?) very much. I guess I&apos;m telling the story on the about page of this blog post too. Anyways, I&apos;ve been practicing playing the piano for more than two years now. Initially, however, I had been inspired by my brother&apos;s sick e-guitar skills. In a nutshell, the two of us had been competing on playing instruments for a while now. Mainly on the piano, when suddenly I realized he had brought his e-guitar this time.</p><p>We plugged it in on our parent&apos;s patio, and I hit a few notes. Then - he had found the old western guitar from my mom - he played a few notes. Suddenly the piano music theory lessons about harmony and melody started kicking in, and I went into improvisation-mode trying to support and/or lead what the two of us were playing. It was a fantastic feeling! Truly a level-up in life. Jazz or multiplayer improvisation had always fascinated me. It had fascinated me with a profound intolerance and frustration of not being able to understand how it worked. But now, since all I had to do was either, hitting low notes when he was playing high notes, or high notes when he was playing low notes, it suddenly made sense to me. And not only that. The next days, it also made me think quite a lot about eventual consistency in distributed systems.</p><p>You see. These days all we seem to want is central coordinators with god views guiding us. We deliberately trust them with our lives and property. We do it because of <a href="https://slatestarcodex.com/2014/07/30/meditations-on-moloch/">Moloch</a>. Or because our collective intuition tells us to throw our dearest values into the flaming pit, faithfully-believing that from the nutritious ashes, a tiny new bud of hope will eventually appear.</p><p>I&apos;m not sure what it was this time we threw. Some argue privacy, others say it was our freedom to freely travel the globe. In fact, I think that on a global level, consistency hasn&apos;t emerged yet. It may be that it will not for many years or decades. After all, there&apos;s money to be made with this asynchronicity.</p><p>Also, I don&apos;t know much about these things, and so probably I should stay within the realm of my domain to make arguments. And so let&apos;s get back to Jazz. Well, actually, let&apos;s get back to uhm Cloudcountry and distributed systems.</p><p>A story that I found quite inspiring in all of this is the story of the creation of Lil Nas X&apos;s Old time road. Here&apos;s the video:</p><div class="video-container"><iframe src="https://www.youtube.com/embed/sq6zmzE8y3U" frameborder="0" loading="lazy" allowfullscreen></iframe></div><p>To me, that video is incredible. It&apos;s incredible because it tells the story of two entirely socially and physically separate musicians collaborating. Even more so as they do it asynchronously, on an idea&apos;s output that eventually requires total synchronicity (or strong consistency). I mean, watch the video. The story has already been told. YoungKio and Lil Nax X jazzed across a massive pond of water. They were able to simply create the mega-hit of 2019 (and a weird genre too).</p><p>I&apos;m fascinated as in my naive understanding of music, I always thought that Jazz meant breaking the rules of social and physical distancing. I thought it meant getting together physically as bandwidth and latency of the internet didn&apos;t allow musical cooperation. I felt that through live streaming, we&apos;d never be able to indeed compose collaboratively. But I was wrong. It&apos;s not better live streams or telephony or central coordinators that we need for music to truly succeed in times of SARS-CoV-2. What we need today is asynchronous Jazz, or as we computer scientists call it: <a href="https://git-scm.com/">git</a> (and CRDTs), but for musicians! I&apos;d call it an (.arc(hive)) or <code>.hive</code> :)</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;The week before the first of May, I drove home to visit the family. After all, we had planned to go skiing when the virus hit my region o</summary>
      
    
    
    
    
    <category term="economics" scheme="https://timdaub.github.io/tags/economics/"/>
    
    <category term="music" scheme="https://timdaub.github.io/tags/music/"/>
    
    <category term="consensus" scheme="https://timdaub.github.io/tags/consensus/"/>
    
    <category term="jazz" scheme="https://timdaub.github.io/tags/jazz/"/>
    
    <category term="distributed systems" scheme="https://timdaub.github.io/tags/distributed-systems/"/>
    
    <category term="crdts" scheme="https://timdaub.github.io/tags/crdts/"/>
    
  </entry>
  
  <entry>
    <title>On Imaginary Monies</title>
    <link href="https://timdaub.github.io/2020/04/18/imaginary/"/>
    <id>https://timdaub.github.io/2020/04/18/imaginary/</id>
    <published>2020-04-18T21:40:06.000Z</published>
    <updated>2020-04-18T21:40:06.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css" integrity="sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/rCkibIcC/OmWo5f0EA48Vf8CytHzGrSwbQ" crossorigin="anonymous"><p>Just yesterday, I got my hands on a really wonderful graphic novel called <em>&quot;The Thrilling Adventures of Lovelace and Babbage&quot;</em>. It&apos;s about the invention of the first computer, the so called <em>analytical engine</em>. It starts by telling the story of Ada Lovelace&apos;s coming of age. And, in particular, about her being deliberately pushed into mathematics and kept away from fulfilling any kind of creative purpose. That, of course, doesn&apos;t go well for too long, before Ada starts learning about &quot;imaginary&quot; numbers. A concept, so seemingly close to poetry (and madness), her mother becoming worried that Ada could become like her father. A mad polyamorous poet?</p><p>Anyways, apart from the stories about Ada and her companion Charles Babbage, there&apos;s lots of mathematical concepts being nicely animated in comic style. And so there&apos;s also this part where Ada&apos;s imagination quite literally starts blossoming when she realizes that numbers do not only exist on a single dimension. The book visualizes this really beautifully by Ada literally walking along the scale of real numbers, soon realizing that she can carefully climb up <em>imaginary</em> stairs. And so she climbs carefully, but misses a stair at one point and falls &quot;back into reality&quot;. Yup, I know, the book is pretty cool.</p><p><img src="/assets/images/ada.png"></p><p>Sometimes I just wish, I had the imagination of Ada, when back in college (or was it high school?), my teachers desperately tried to explain me the concept of imaginary numbers. I mean, it was not that I didn&apos;t want to understand, or that I was lazy or not interested. It was just that this whole topic didn&apos;t make much sense to me. Why have imaginary numbers when all you need in the world is real numbers. After all, there&apos;s no imaginary sheep you could count, and no imaginary apples you could add up. And so the concept of imaginary numbers actually never stuck with me. Funnily enough, when we learned about vectors later, I didn&apos;t have any troubles following along.</p><p>Maybe, it&apos;s that concept of telling a story, of opening up someone&apos;s imagination that ultimately allows us to learn and be truly creative. And with that, I&apos;d like to talk about <em>imaginary monies</em>.</p><p>See, in my view, the world today is quite behind its potential. When it comes to money, at least. It&apos;s now been, what?, 50 years since the advent of personal computers and 20 years since the mainstream adoption of the world wide web? And still, we seem to transact like hundreds of years ago.</p><p>But the world has changed. In fact, it changed already in the 70ies, when we found ourselves at the advent of the <em>information age</em> and the founding of the information society. You don&apos;t believe me? Well, then get into this red-looking and playful-looking time machine below and see for yourself!</p><div class="owl-media owl-video owl-youtube"><iframe src="//www.youtube.com/embed/UiMus1FJb9w" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div><p>Isn&apos;t it beautiful? To me, at least, it&apos;s almost like time-traveling and having a dialogue with the collective of humans that were responsible for creating what we now call the internet. It&apos;s inspiring, because these random strangers talk so clearly and freely about <em>our world</em>. It&apos;s so frightening, because today, at least, I&apos;d argue, we&apos;re often preceiving <em>their utopia</em> as <em>our dystopia</em>.</p><p>That does tie nicely into the metaphor of Ada Lovelace climing imaginary stairs. What would happend if she fell from high up back to reality? How hard would the impact be? How long would she fall? Would she bounce back up? Or only leave a hole in the ground? Hard to say, but I&apos;d imagine the impact to be less severe than you&apos;d think. After all, why should gravity only act in one dimension &#x1F60F;. And so that&apos;s why I think we should start exploring radically new paths. Not paths, dimensions. Dimensions of money. Imaginary monies.</p><p><em>Tim. Hold on. What the fuck are you talking about???</em> Okokok. Hear me out! Just one, one last story and then you&apos;ll understand!</p><p>Sooo, in the early 2000s the www was really cool. And everybody bought stocks and all nerds got rich and it was great. It was so great that even traditional or established businesses wanted to go full <em>cyber</em> by hosting their own websites. One of them was the New York Times, an organization founded a staggering 150 years earlier.</p><p>Now, back in the days, publishing websites was quite difficult. There were hardly any tools. I guess there weren&apos;t many developers neither. But most probably, the bigest problem was that people were stuck in a creative loop of <a href="https://de.wikipedia.org/wiki/HyperNormalisation">HyperNormalization</a>. That is, they didn&apos;t know what to do with the internet. Maybe, they were scared? And so in 1996 it happened that the New York Times simply decided to scan their front page print and upload it daily as an image on their website. They were so proud, they even published <a href="https://www.nytimes.com/1996/01/22/business/the-new-york-times-introduces-a-web-site.html">an article</a> about themselves, quoting a consultant saying: <em>&quot;The market is booming for newspapers on the World Wide Web.&quot;</em></p><p>Little did they know... that you can&apos;t just scan your print edition newspaper and upload a picture to your website, because, as McLuhan had realized years before already: <em>&quot;The medium is the message.&quot;</em> And hence, the closest resemblence to a truly cyberspacial newspaper may be Twitter, Mastodon or Medium. Well, I guess that consultant was right after all.</p><p>And that my friends, is the epic saga of Hypernormalizations being born and dying, as they too, can be overcome with a simple trick of the mind: Imagination.</p><p>Today, there&apos;s a particular topic that needs more imagination and that is, as I&apos;ve already mentioned, the topic of money. Honestly, I think, we&apos;d be fine in climbing the invisible stairs. We&apos;re collectively and subliminally aware of transactional relationships and keeping ledgers in our brain. David Graeber&apos;s 5000 Years of debt certainly is proof enough of that. I don&apos;t think we&apos;d fall far, as in our deerest need, there&apos;s many tricks and protocols in our cultures already.</p><p>So then, let&apos;s explore multi dimensional imaginary money and leave these real and boring concepts behind! ERC20 tokens as reputation on the the Ethereum mainnet. Naaaah, that&apos;s so 2019. What we build is a reputation token that, acts as a multiplier for our base supply of money!</p><p>Quadratic voting and reputation schemes? Artificially limitted and carefully distributed token supplies? Naaahh, instead, why don&apos;t we make <em>political influence</em> quadratically proportional to your actual spending power? You know, making your reputation the base, and your money the exponent.</p><p>Let&apos;s say we all agree to vote once in a big election. But then you vote twice. Well, now you better have some stash saved under your matress, because you&apos;ve significantly decreased your spending power but increased your political reach.</p><p>I mean, just imagine the possibilities in cybespace, where the relationship of monetary supply and political influence couldn&apos;t possibly grow exponentially or lineraly. But instead, where we could limit them through governance by adjusting <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>, in:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>z</mi><mo>=</mo><mi>a</mi><mo>+</mo><mi>b</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">z = a + bi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span></span></span></span></span></p><p>where <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span></span></span></span> being the individual&apos;s spending power, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span> being the individual&apos;s money supply and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span> being, for example, the individual&apos;s political influence.</p><figure><img src="/assets/images/imaginary.png" alt><figcaption>You guessed it right, I stole that picture from Wikipedia.</figcaption></figure><p>I know, it sounds like a long shot now. But I truly think we&apos;re not that far away from ideas like these being put into practical use. In many ways, stable coins are a first step. So let&apos;s take another one!</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css&quot; integrity=&quot;sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/r</summary>
      
    
    
    
    
    <category term="economics" scheme="https://timdaub.github.io/tags/economics/"/>
    
    <category term="essay" scheme="https://timdaub.github.io/tags/essay/"/>
    
    <category term="philosophy" scheme="https://timdaub.github.io/tags/philosophy/"/>
    
    <category term="crypto" scheme="https://timdaub.github.io/tags/crypto/"/>
    
  </entry>
  
  <entry>
    <title>Should True Cow Lovers Buy Butter?</title>
    <link href="https://timdaub.github.io/2020/04/15/butter/"/>
    <id>https://timdaub.github.io/2020/04/15/butter/</id>
    <published>2020-04-14T23:52:38.000Z</published>
    <updated>2020-04-14T23:52:38.000Z</updated>
    
    <content type="html"><![CDATA[<p>You all love margarine, right? It&apos;s the plant-based version of butter. Actually, I learned about margarine the first time when I was in high school.</p><p>In economics class, our teacher tried to explain to us the concept of substitution goods and so he made an example and said: &quot;A substitute good is a good that can be used in place of another.&quot;<sup id="a1"><a href="#f1">1</a></sup> Then he continued: &quot;Butter and margarine are commonly referred to as substitution goods. In the kitchen, they can be used almost interchangeably. If one day, you go grocery shopping and can&apos;t find butter, it&apos;s likely not a problem as you&apos;ll survive the week without major hiccups on margarine too&quot;.</p><p>And then, he took the chalk and drew a weird graph on to the board that probably nobody in the room fully understood.</p><p>That was roughly 12 years ago. And since then, I thought about substitution goods quite a few times. It was the usual subjects. Coca-Cola and Pepsi, McDonald&apos;s, and BurgerKing. Taking a train vs. buying a car.</p><p>But then today, I had to explain a friend of mine the concept of a substitution good, and I intuitively used the example of my teacher: Butter and margarine. But as soon as the words left my mouth, I thought to myself: Poor cows!</p><p>OK, OK. Let&apos;s rewind a bit. Also, let me give some context.</p><p>First off, I live in Berlin. And everyone here wants to save the world. With the purest intention. So even though you won&apos;t notice it much visiting the city, my peers are incredibly political. But not the standard &quot;political&quot; YUPPIE you&apos;re thinking. The Berlin youth <em>lives</em> their lives according to strict principles. To the uttermost extend. Quite often, even so much that it burdens friendships. Especially, when you&apos;re a vegetarian-diet-red-pill-immune person like I am<sup id="a2"><a href="#f2">2</a></sup>.</p><p>Anyways, beginning last year, I started noticing a trend in how my flatmates and I feed ourselves. Mainly because this big sausage company, called &quot;R&#xFC;genwalder M&#xFC;hle,&quot; had begun to expand their meat-free meat substitution products immensely. My die-hard vegetarian flatmate one day came into the kitchen and started a chorus of praise about <a href="https://www.ruegenwalder.de/produkte/vegetarische-muehlen-cordon-bleu">R&#xFC;genwalder&apos;s vegetarian Cordonbleus</a>. Since each package comes with two, he threw them in a pan, and shortly we were eating analog meat with analog cheese inside.</p><p><img src="/assets/images/ruegenwalder.png"></p><p>And what can I say? I actually liked these more than I liked <em>real</em> Cordonbleus. Simply because I&apos;ve always had this childhood trauma of eating an animal. Even today, every time I bite into a piece of meat, I secretly hope its taste won&apos;t connect much to how the animal smells. I don&apos;t know. To me, that&apos;s just terrible as I grew up surrounded by animals in a small Swabian village. It breaks my heart and also utterly disgusts me when my body tells me that what I&apos;m eating had been alive just a while ago.</p><p>But with these Cordonbleus, things were much different<sup id="a3"><a href="#f3">3</a></sup>! I felt like I could really binge on those things. No harm is done to animals! I technically can just eat 17 of them today without feeling bad! Also, they taste so great with Sriracha sauce. It was just too good to be true!</p><p>And so I lived happily, binging on all the great R&#xFC;genwalder Cordonbleus until today when I had to explain this damn concept of a substitution good to a friend of mine.</p><p>See, in my opinion, we&apos;ve enslaved animals within our capitalistic system. We&apos;re extracting goods from them without their consent and selling them on the open market. Some policies regulate on how we should be treating animals and gladly, there are BIO labels. I genuinely believe that things <em>are</em> objectively getting &quot;better.&quot; By the numbers, at least.</p><p>What nobody really questions, however, is if the cow would revoke their consent of giving milk if it could. Sadly, though, if you model the brain of the <em>Bos Taurus Economicus</em>, the rational cow, I believe it wouldn&apos;t necessarily revoke its consent immediately.</p><p>Why? Because it has been domesticated towards what it is today for hundreds, if not thousands of years by humans. I&apos;m sure some of you have seen the Netflix documentaries too. <a href="https://www.cowspiracy.com/">Cowspiracy</a>. <a href="https://www.netflix.com/Title/70100084">Milk</a>. There are so many of these now. Likely and sadly, because cows are now also seen as a significant reason for climate change. The point of them is that cows today are massively optimized for giving milk and meat. They can barely live on their own. They require human help to survive because we&apos;ve domesticated them for maximum profit.</p><p>OK. But what has all of this to do with butter and margarine? Well, for that, we need to enter Donna Haraway&apos;s <a href="https://www.dukeupress.edu/staying-with-the-trouble">&quot;Staying with the Trouble.&quot;</a> In it, she argues that humanity is currently finding itself in the Anthropocene, a geological epoch that&apos;s dating from the commencement of significant human impact on Earth&apos;s geology and ecosystems (I stole that 100% from Wikipedia btw.). But she goes even further and argues that much of the biology and nature that we experience today has very much been influenced by humanity&apos;s history.</p><p>She talks about how loving carrier pigeons may be the reason for the story of Romeo and Juliet to exist. But not only that, but she also challenges us by arguing that we humans have an individual responsibility to be <em>response-able</em> towards the domestic animals our ancestors and we have &quot;co-created&quot;. She argues for &quot;making kin, not babies.&quot; And in general, she argues from a truly-inspiring and honest way of &quot;making kin in the Chthulucene. Chthulucene, being her suggestion for naming Earth&apos;s next geological epoch.</p><p>Most importantly, however, Donna Haraway argues for a strategy she calls &quot;becoming-with.&quot; Essentially a practical way for all critters to live and die on &quot;terra. I understand it as follows:</p><p>We&apos;ve inherited this world. It&apos;s full of trouble, but that&apos;s OK. Because each and every one of us has the individual capability to be response-able (to act on our own responsibility). Some of us have quite huge response-ability. Some of us have very small. And some are in-between. Note that she&apos;s not particularly making response-ability a global task. Instead, she&apos;s deliberately making it <em>sympoietic</em> (collectively-producing, decentral control) and not <em>autopoietic</em> (self-producing, central control).</p><p>To me, that&apos;s beauty in its purest form. Why? Because it gives each and every one of us quite concrete guidelines on how we should act towards enslaved and domesticated animals. We should behave towards them in our personal, most morally-sound way. Maybe, today it just means petting a dog or not eating that burger. Well, tomorrow, it can mean feeding thousands of pigs and not having them slaughtered by an insane monopolized industry.</p><p>OK. But should I buy butter or margarine now??? Well, I think that&apos;s a decision entirely up to you! I&apos;d still like to make a point about substitution goods that I hope vegetarians and vegans may appreciate. It&apos;s indeed coming from my heart and with no ill intentions in mind. Also, a disclaimer. I haven&apos;t really researched this whole point, so while it may be rhetorically correct, factually, it may not. But maybe it&apos;s also up to the readers to verify and conduct studies! My idea with this essay is less to convince you about e.g., buying butter over margarine, and more about the way we can think about today&apos;s problems from an ethical and also economical point of view. So here we go:</p><p>Butter and margarine are substitution goods, meaning they&apos;re technically interchangeable in the kitchen. Butter is made from cows&apos; milk. Margarine is purely plant-based. As cows have to be fed with plants, but since plants only require water and sun, we can simply assume that for the purpose of a cooking-fat, margarine is more efficient to produce and hence over a long period a cheap alternative to butter.</p><p><img src="/assets/images/substitute.jpg"></p><p>Assuming you, e.g., increased the price of butter to improve the living conditions of a cow, it&apos;d mean that you&apos;d decrease butter&apos;s demand, and at the same time, you&apos;d increase margarine&apos;s demand and hence its price. At least in the short term, it could be argued that given the market&apos;s structure, vegetarian substitute goods are not contributing towards less animal suffering. Instead, the opposite may be right.</p><p>Of course, this becomes even more problematic, the more industry processes and products are replacing animal-based ingredients with plant-based alternatives. Not only are plant-based substitutes structurally cheaper to produce as you simply don&apos;t have to feed animals with plants to create them. But additionally, given the fact that you&apos;re taking money away, that is paying, e.g., &quot;a cow&apos;s rent,&quot; you&apos;re also contributing towards more efficiently extracting value from animals and hence to more extreme animal suffering.</p><p>In simpler terms: The fewer money farmers have to feed and maintain their life stock, the more they&apos;ll have the incentive to squeeze out every last penny. And judging by my intuition, that will undoubtedly mean more suffering for the animal.</p><p>Oh jeez...</p><p>Yeah, I know! The situation looks quite dire. Well, yes, it does. But also it doesn&apos;t. Because we&apos;ve just looked at cows as rational actors and we&apos;ve also learned what it means to be a good companion species towards cows. We have to become-with with them and act response-able!</p><p>So instead of calling on our politicians to create more rules and complexity, I&apos;d like to encourage you today to think like a genuine capitalist. Assuming that we want to move the world over to vegetarianism or veganism. Considering that we want to optimize for as little animal slavery and suffering: What are economic policies that could help cows, pigs, and chickens to live and die peacefully during this phase of <em>aninomic</em> (animal + economic) turmoil? What can help in the long-term? What&apos;s a solution that could be applied today? Think, discuss, write!</p><p>Here&apos;s my take on one idea:</p><p>Venture capitalists always talk about Universal Basic Income for their sacred entrepreneurs. Well, why can&apos;t we have one for cows??? For example, couldn&apos;t we simply have a tax on e.g., eggplants that would contribute towards CUBI (cow universal basic income)? Mainly, it&apos;d be a policy, financing the board and lodge of &quot;unemployed&quot; cows all over the world. What&apos;s stopping us from doing that? I&apos;d pay for it. Would you?</p><p>Also, what policies would you like to create?</p><hr><h2 id="controversy">Controversy</h2><ul><li>We had an interesting discussion about this article, over in the <a href="https://leapdao.slack.com/archives/C2KNAV6E5/p1587027688144900">LeapDAO Slack</a>.</li></ul><hr><h2 id="footnotes">Footnotes</h2><p><small><a name="f1">1</a>: Actually, I copied that from Wikipedia. But he said something very similar, I believe.<a href="#a1">&#x2191;</a></small></p><p><small><a name="f2">2</a>: By the way, I want to be vegetarian, but so far, I&apos;ve been struggling with sublements etc. But that&apos;s a story for another time.<a href="#a2">&#x2191;</a></small></p><p><small><a name="f3">3</a>: Take this section with a grain of salt. R&#xFC;genwalder&apos;s Cordonbleus today are only vegetarian. This means some animal abuse may take place. I&apos;d argue that today you cannot yet consume R&#xFC;genwalder Cordonbleus entirely without guilt.<a href="#a3">&#x2191;</a></small></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;You all love margarine, right? It&amp;apos;s the plant-based version of butter. Actually, I learned about margarine the first time when I was</summary>
      
    
    
    
    
    <category term="economics" scheme="https://timdaub.github.io/tags/economics/"/>
    
    <category term="essay" scheme="https://timdaub.github.io/tags/essay/"/>
    
    <category term="philosophy" scheme="https://timdaub.github.io/tags/philosophy/"/>
    
    <category term="thought experiment" scheme="https://timdaub.github.io/tags/thought-experiment/"/>
    
  </entry>
  
  <entry>
    <title>WASM SYNTH, or, how music taught me the beauty of math</title>
    <link href="https://timdaub.github.io/2020/02/19/wasm-synth/"/>
    <id>https://timdaub.github.io/2020/02/19/wasm-synth/</id>
    <published>2020-02-19T12:18:14.000Z</published>
    <updated>2020-02-19T12:18:14.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css" integrity="sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/rCkibIcC/OmWo5f0EA48Vf8CytHzGrSwbQ" crossorigin="anonymous"><p><strong>TL;DR:</strong> I built a synthesizer using C++ and WebAssembly. Check out the finished <a href="https://timdaub.github.io/wasm-synth/">product</a> (<a href="https://github.com/TimDaub/wasm-synth#compatibility">browser compatibility table</a>), the <a href="https://github.com/TimDaub/wasm-synth">source</a>, <a href="#the-presentation">watch the talk</a> or keep on reading the article!</p><hr><h2 id="the-presentation">The Presentation</h2><div class="owl-media owl-video owl-youtube"><iframe src="//www.youtube.com/embed/QJ0k_Qa5VGI" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div><h2 id="introduction">Introduction</h2><p>Ever since I started taking piano lessons two years ago, I was curious to take a look into a vastly different field from cryptocurrencies and blockchain. That field being digital audio engineering. So when some of my freelance projects ended in November 2019, I decided to allocate my next three months towards building an audio product.</p><p>I quickly discovered what I wanted to build: A synthesizer. In C++! I had just watched some talks on WebAssembly, and was very curious to learn a new language too! In hindsight, the personal challenge, however, was to understand the data structures and math that go into generating audio.</p><p>That&apos;s the story of how I rediscovered the beauty of mathematics through building a synthesizer with C++ and WebAssembly.</p><h2 id="theory">Theory</h2><p>I had never done anything in the field of music technology - I had to start at zero practically. It meant I had to look at the physical, mathematical, and musical fundamentals of audio generation.</p><h3 id="the-nyquist-shannon-sampling-theorem">The Nyquist-Shannon Sampling Theorem</h3><p>Sound is a time-dependent phenomenon. Regular instruments take advantage of this phenomenon by emitting sound waves over time through, e.g., a mechanical part oscillating. That produces a time-continuous analog signal, which means that for each point in time, the signal produces a unique value in amplitude. Computers can merely approximate analog values by sampling them into time-discrete values. They&apos;re so good at approximating that the digital representation of an analog signal virtually becomes indistinguishable to a human&apos;s ear. As long as the sampling complies with some basic rules of signal processing, at least.</p><p>A pretty fundamental principle in this regard is the <a href="https://en.wikipedia.org/wiki/Nyquist%E2%80%93Shannon_sampling_theorem">Nyquist&#x2013;Shannon sampling theorem</a>. It states that to capture all necessary information from a continuous-time signal, a function <em>&quot;sampling&quot;</em> the signal needs to record data at least at a rate twice as frequently as the highest frequency. If this requirement is unfulfilled, then the resulting digital signal contains an artifact called <em>&quot;Aliasing&quot;</em>, distorting the familiarity of the original signal (<a href="https://en.wikipedia.org/wiki/File:Sawtooth-aliasingdemo.ogg">Listen to this sound bit of aliasing happening on a sawtooth wave</a>).</p><p>Though we&apos;re not planning to record analog signal to digital, we&apos;ll still have to comply with this theorem, as synthesizing sound is nothing more than filling a list with time-discrete values too<sup id="a5"><a href="#f5">5</a></sup>. Practically, it may look something like this:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// Simple pseudo code noise generator</span><br><span class="line"></span><br><span class="line">context = new AudioContext()</span><br><span class="line">samples = []</span><br><span class="line"></span><br><span class="line">for (i = 0; i &lt; context.sampleRate; i++) {</span><br><span class="line">  // Generate noise</span><br><span class="line">  samples.append(random.choice([0, 1]))</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">// We&apos;ve generated enough samples for exactly 1 second.</span><br><span class="line">// The output will hence be 1 second of noise.</span><br><span class="line">context.play(samples)</span><br></pre></td></tr></table></figure><p>Here, we&apos;re initiating a new <code>AudioContext</code> object, getting its sample rate, and generating enough samples to have the noise last for at least one second. Admittedly, the Nyquist-Shannon theorem is less of a problem here, as the <code>sampleRate</code> is likely to be set to a reasonable value by our pseudo language&apos;s magical <code>AudioContext</code>. But assuming it was set to only 200 Hertz, outputting a piano&apos;s middle C (its frequency is <a href="https://en.wikipedia.org/wiki/Piano_key_frequencies">261.6256 Hertz</a>) would already be corrupted, as the required 261 repetitions per second to output middle C wouldn&apos;t fit into the 200 repetitions per second of the sample rate. Practically, what would happen is that our sampling algorithm would be &quot;overtaken&quot; by middle C&apos;s frequency and hence output a shifted version. The figure below nicely visualizes the effect, showing what happens if we&apos;re gradually increasing the signal&apos;s frequency at a steady sampling rate.</p><figure><img src="/assets/images/nyquist.png" alt><figcaption><em>Undersampling: The signal&apos;s frequency is increased while the sampling rate (dotted line) remains steady.</em></figcaption></figure><p>But assuming a sufficient sampling rate, there&apos;s another problem with the above code. Imagine, we substituted the noise-producing snippet with a nice-sounding sine wave and then integrated and sold it as a hardware synthesizer. When pressing a key, the player would hear the respective tone for a second. Pressing another key, they&apos;d hear another tone for another second and so on. But since we built our function only to generate static-length tones of a one-second length, it wouldn&apos;t be much fun making music, as playing rhythmic patterns would be impossible!</p><figure><img src="/assets/images/frames.png" alt><figcaption><em>Large buffer sizes can introduce latency for the user<sup id="a6"><a href="#f6">6</a></sup>.</em></figcaption></figure><p>That&apos;s because music doesn&apos;t work on an absolute time scale, but on a relative one. We wouldn&apos;t say that a note &quot;lasts for a second&quot;. Instead, we&apos;d say it &quot;lasts for a quarter bar&quot; and, hence, call it a &quot;quarter note&quot;. To build a software instrument, this means that we&apos;ll have to optimize for real-time responsiveness and maximum expressiveness. For this, we&apos;ll need specific data structures.</p><h3 id="frames-and-ring-buffers">Frames and Ring Buffers</h3><p>Generally, audio in programming languages is most commonly generated by continuously filling up buffers with data points and then sending them to the sound card. But as we&apos;ve just learned, that buffer&apos;s size determines the responsiveness of our instrument. An idea that nicely dissolves this problem is to chunk our buffer into <em>frames</em>. Instead of sending a fixed-length buffer of samples to the output device, we chunk it into small <em>frames</em> and continuously send these. In theory, we&apos;d limit the size of a frame to a single sample for maximum responsiveness, meaning we&apos;d now be <em>&quot;streaming&quot;</em> our data. But given that timing is crucial too, we&apos;ll have to come up with yet another strategy for sending just the right amount of data in a given time frame. For this, we can use a different concept called a <em>&quot;ring buffer&quot;</em>.</p><figure><img src="/assets/images/ring-buffer.gif" alt><figcaption><em>A ring buffer processing a keyboard&apos;s inputs.</em></figcaption></figure><p>A ring buffer is a fixed-size list, managed by two distinct pointers, where one pointer is writing values, and the other one is &quot;chasing&quot; and consuming those values. It allows a program to continuously stream data, precisely at the speed of the chasing pointer. Additionally, it provides developers with a <em>&quot;pull&quot;</em> rather than a <em>&quot;push&quot;</em> API. Now, instead of having to optimize their program to push new frames to the output device periodically, a developer can use the callback function of a ring buffer&apos;s writing pointer to be notified about a shortage of fresh data.</p><p>But so much for theory. Let&apos;s explore how we can implement these concepts in practice.</p><h2 id="implementation">Implementation</h2><p>As we&apos;ve discussed the most important theoretical concepts in the previous section, we can now move into the implementation phase. Specifically, we&apos;ll highlight three distinct issues that we had to overcome.</p><h3 id="using-the-audioworklet">Using the <code>AudioWorklet</code></h3><p>Today, there&apos;s sadly no cross-browser API fully implementing all the above concepts. That requires <em>some</em> improvisation when trying to build a synthesizer for the web. Naively, one might think that <code>setTimeout</code> and <code>setInterval</code> allow one to implement a ring buffer quickly. However, <a href="https://stackoverflow.com/a/29972322/1263876">their accuracy can&apos;t be trusted</a><sup id="a1"><a href="#f1">1</a></sup>. Alternatively, there&apos;s the web audio API&apos;s <a href="https://developer.mozilla.org/en-US/docs/Web/API/ScriptProcessorNode"><code>ScriptProcessorNode</code></a>. And while it allows hooking into the output device&apos;s streaming process, it still requires a <em>push</em> approach, as inserting just the right amount of samples per second into the output stream is kept to the developer. Additionally, <code>ScriptProcessorNode</code> has been deprecated without any reasonable cross-browser compatible alternative available since 2014. Yikes!</p><p><a href="https://blog.mecheye.net/2017/09/i-dont-know-who-the-web-audio-api-is-designed-for/">So what now?</a> Luckily, <code>ScriptProcessorNode</code>&apos;s deprecation happened years ago already. Since then, the browser vendors have worked on an alternative, called the <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioWorklet"><code>AudioWorklet</code></a>. Encouragingly, it implements what we described above; a pull interface<sup id="a4"><a href="#f4">4</a></sup> spawned in a separate thread (hence <code>Worklet</code>) for lag-free audio processing.</p><p>Let&apos;s convert our previous code snippet to an <code>AudioWorklet</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NoiseWorklet</span> <span class="keyword">extends</span> <span class="title">AudioWorkletProcessor</span> </span>{</span><br><span class="line">  <span class="function"><span class="title">process</span>(<span class="params">inputs, outputs, parameters</span>)</span> {</span><br><span class="line">    <span class="keyword">const</span> outputChannel = outputs[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; outputChannel.length; i++) {</span><br><span class="line">      outputChannel[i] = <span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random());</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">registerProcessor(<span class="string">&quot;NoiseWorklet&quot;</span>, SynthWorklet);</span><br></pre></td></tr></table></figure><p>And take a closer look! First, we extend our class with the <code>AudioWorkletProcessor</code> interface class and implement the mandatory <code>process(inputs, output, parameter)</code> function. <code>process</code> allows us to access all currently available audio <code>inputs</code> and <code>outputs</code> and <em>process</em> them. We won&apos;t have to add them to the function&apos;s <code>return</code> statement, as we&apos;re manipulating them by reference. Conveniently, <code>process</code> is called for us by the <code>AudioWorklet</code> every time the output device needs data.</p><p>In terms of understanding, it really helped me think of the <code>AudioWorklet</code> as a ring buffer. It&apos;s implementation isn&apos;t a ring buffer. But that metaphor served me well for getting a better intuition.</p>        <iframe frameborder="0" sandbox="allow-top-navigation" seamless style="background-color:white;height:415px;transform:scale(0.5);width:200%;margin: -15% 0 -15% -50%;" srcdoc="&lt;!doctype html&gt;&lt;head&gt;          &lt;base href=&quot;https://developer.mozilla.org&quot;&gt;&lt;style&gt;            .bc-browsers .bc-head-icon-chrome:before,.bc-browsers .bc-head-icon-chrome_android:before,.bc-browsers .bc-head-icon-edge:before,.bc-browsers .bc-head-icon-edge_mobile:before,.bc-browsers .bc-head-icon-firefox:before,.bc-browsers .bc-head-icon-firefox_android:before,.bc-browsers .bc-head-icon-ie:before,.bc-browsers .bc-head-icon-nodejs:before,.bc-browsers .bc-head-icon-opera:before,.bc-browsers .bc-head-icon-opera_android:before,.bc-browsers .bc-head-icon-safari:before,.bc-browsers .bc-head-icon-safari_ios:before,.bc-browsers .bc-head-icon-webview_android:before,.bc-browsers .bc-head-icon-samsunginternet_android:before,.bc-platforms .bc-platform-desktop:before,.bc-platforms .bc-platform-mobile:before,.bc-platforms .bc-platform-server:before,.ic-altname:before,.ic-footnote:before,.ic-disabled:before,.ic-non-standard:before,.ic-experimental:before,.ic-history:before,.ic-deprecated:before{display:inline-block;content:&apos;&apos;;background-repeat:no-repeat}.bc-browsers .bc-head-txt-label{display:inline-block;bottom:0;margin:0 0 0 10px;padding:0;width:20px;height:20px;font-size:20px;font-size:1.11111rem;text-align:left;white-space:nowrap}.bc-browsers .bc-head-txt-label{margin-bottom:20px}html[dir=&apos;rtl&apos;] .bc-browsers .bc-head-txt-label{margin-bottom:40px}.bc-browsers .bc-head-txt-label{transform:rotate(-90deg)}html[dir=&apos;rtl&apos;] .bc-browsers .bc-head-txt-label{transform:rotate(90deg)}.bc-browsers .bc-head-txt-label{transform-origin:left}html[dir=&apos;rtl&apos;] .bc-browsers .bc-head-txt-label{transform-origin:center}.bc-browsers .bc-head-txt-label:before{position:absolute;display:inline-block;content:&apos;&apos;;background-repeat:no-repeat}.bc-browsers .bc-head-txt-label:before{top:2px}html[dir=&apos;rtl&apos;] .bc-browsers .bc-head-txt-label:before{top:5px}.bc-browsers .bc-head-txt-label:before{left:-28px}html[dir=&apos;rtl&apos;] .bc-browsers .bc-head-txt-label:before{left:28px}.bc-browsers .bc-head-txt-label:before{transform:rotate(90deg)}html[dir=&apos;rtl&apos;] .bc-browsers .bc-head-txt-label:before{transform:rotate(-90deg)}.bc-browsers .bc-head-icon-chrome:before,.bc-browsers .bc-head-icon-chrome_android:before{background-image:url(&quot;../browsers/chrome.svg&quot;);background-size:20px;width:20px;height:24px}.bc-browsers .bc-head-icon-edge:before,.bc-browsers .bc-head-icon-edge_mobile:before{background-image:url(&quot;../browsers/edge.svg&quot;);background-size:20px;width:20px;height:24px}.bc-browsers .bc-head-icon-firefox:before,.bc-browsers .bc-head-icon-firefox_android:before{background-image:url(&quot;../browsers/firefox.svg&quot;);background-size:20px;width:20px;height:24px}.bc-browsers .bc-head-icon-ie:before{background-image:url(&quot;../browsers/internet-explorer.svg&quot;);background-size:20px;width:20px;height:24px}.bc-browsers .bc-head-icon-nodejs:before{background-image:url(&quot;../platforms/nodejs.svg&quot;);background-size:20px;width:20px;height:24px}.bc-browsers .bc-head-icon-opera:before,.bc-browsers .bc-head-icon-opera_android:before{background-image:url(&quot;../browsers/opera.svg&quot;);background-size:20px;width:20px;height:24px}.bc-browsers .bc-head-icon-safari:before,.bc-browsers .bc-head-icon-safari_ios:before{background-image:url(&quot;../browsers/safari.svg&quot;);background-size:20px;width:20px;height:24px}.bc-browsers .bc-head-icon-webview_android:before{background-image:url(&quot;../platforms/android.svg&quot;);background-size:18px;width:18px;height:22px;left:-23px}.bc-browsers .bc-head-icon-samsunginternet_android:before{background-image:url(&quot;../browsers/samsung-internet.svg&quot;);background-size:20px;width:20px;height:24px}.bc-platforms span{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute !important;width:1px}.bc-platforms th:before{display:inline-block;content:&apos;&apos;;background-repeat:no-repeat;background-size:24px;margin-top:10px;width:24px;height:24px}.bc-platforms .bc-platform-desktop:before{background-image:url(&quot;../platforms/desktop.svg&quot;);background-size:24px;width:24px;height:24px}.bc-platforms .bc-platform-mobile:before{background-image:url(&quot;../platforms/mobile.svg&quot;);background-size:16px;width:16px;height:32px;margin-top:0}.bc-platforms .bc-platform-server:before{background-image:url(&quot;../platforms/server.svg&quot;);background-size:24px;width:24px;height:24px}.ic-altname:before{background-image:url(&quot;../browser-compat-general/alternate.svg&quot;);background-size:12px;width:12px;height:22px}.ic-footnote:before{background-image:url(&quot;../browser-compat-general/asterisk.svg&quot;);background-size:10px;width:10px;height:10px}.ic-prefix:before{content:&apos;-x-&apos;;font-size:18px;font-size:1rem;line-height:1;font-family:sans-serif;font-style:normal}.ic-disabled:before{background-image:url(&quot;../general/flag.svg&quot;);background-size:24px;width:24px;height:24px}.ic-non-standard:before{background-image:url(&quot;../notifications/exclamation-triangle.svg&quot;);background-size:16px;width:16px;height:20px}.ic-experimental:before{background-image:url(&quot;../general/flask.svg&quot;);background-size:16px;width:16px;height:20px}.ic-history:before{background-image:url(&quot;../arrows/caret-down.svg&quot;);background-size:9px;width:9px;height:13px}.ic-deprecated:before{background-image:url(&quot;../emojis/thumbs-down.svg&quot;);background-size:16px;width:16px;height:20px}.bc-legend .bc-supports{margin-bottom:25px}.bc-legend .ic-altname,.bc-legend .ic-deprecated,.bc-legend .ic-disabled,.bc-legend .ic-experimental,.bc-legend .ic-footnote,.bc-legend .ic-non-standard,.bc-legend .ic-prefix{display:flex;justify-content:center}.bc-icons{position:relative;z-index:12;display:inline-block}.bc-icons abbr{margin:0 2px}.bc-icons a{text-decoration:none}@media all and (min-width: 63.9385em){.bc-icons{float:right}}.bc-browser-name{display:none}@media all and (max-width: 47.9375em){.bc-browser-name{display:block;position:absolute;top:8px;left:0;padding-left:6px;height:25px;width:220px;color:#333;white-space:nowrap}}table.bc-table{margin-bottom:0}.text-content table.bc-table{width:100%;table-layout:fixed;border:none;border-collapse:separate;border-spacing:0;background-color:#eaeef2;background-color:rgba(212,221,228,0.5)}.text-content table.bc-table thead th{text-align:center}.bc-table,.bc-table thead,.bc-table tbody,.bc-table tr,.bc-table th,.bc-table td{box-sizing:border-box}.bc-table tr{position:relative;border-bottom:0 solid transparent}.bc-table th,.bc-table td{position:relative;padding:5px 3px;border-color:#222;border-top:1px solid #222;border-right:0;border-bottom:0 solid transparent;border-left:1px solid #222;text-align:center}.bc-table thead td,.bc-table tbody th{overflow:hidden}.bc-table-web thead td,.bc-table-web tbody th{width:200px}.bc-table-web thead th,.bc-table-web tbody td{width:8.33333%}.bc-table-js thead td,.bc-table-js tbody th{width:200px}.bc-table-js thead th,.bc-table-js tbody td{width:7.69231%}.bc-table-ext thead td,.bc-table-ext tbody th{width:300px}.bc-table-ext thead th,.bc-table-ext tbody td{width:20%}.bc-table thead td+th,.bc-table tbody th+td{border-left:0}html[dir=&apos;rtl&apos;] .bc-table thead td+th,html[dir=&apos;rtl&apos;] .bc-table tbody th+td{border-left:1px solid}.bc-table-web th:nth-child(8),.bc-table-web td:nth-child(8){border-left:2px solid #222}.bc-table-js th:nth-child(8),.bc-table-js td:nth-child(8){border-left:2px solid #222}.bc-table-js th:nth-child(15),.bc-table-js td:nth-child(15){border-left:2px solid #222}.bc-table-ext th:nth-child(6),.bc-table-ext td:nth-child(6){border-left:2px solid #222}.text-content .bc-table th{background-color:transparent;overflow:hidden;padding:5px 3px 5px 6px}.bc-table .bc-platforms th{width:auto;padding:5px 0 2px;border-top:0;border-bottom:2px solid #222;border-left:2px solid #222;font-size:28px;font-size:1.55556rem}.bc-table .bc-platforms td+th{border-left:0}.bc-table .bc-browsers th{border-top:0;padding:3px 0;height:200px;vertical-align:bottom;font-size:22px;font-size:1.22222rem}.bc-table tbody th{border-width:2px;border-color:#222;border-style:none;border-top:1px solid #222;text-align:left;vertical-align:top}.bc-table tbody th{border-right:solid}html[dir=&apos;rtl&apos;] .bc-table tbody th{border-right:0}.bc-table tbody th{border-left:0}html[dir=&apos;rtl&apos;] .bc-table tbody th{border-left:solid}.bc-table thead td{border-width:2px;border-color:#222;border-style:none;border-top:0}.bc-table thead td{border-right:solid}html[dir=&apos;rtl&apos;] .bc-table thead td{border-right:0}.bc-table thead td{border-left:0}html[dir=&apos;rtl&apos;] .bc-table thead td{border-left:solid}.bc-table td:focus{z-index:1}.bc-table td[tabindex]{cursor:pointer}.no-js .bc-table tbody td,.bc-table tbody td[tabindex]{padding-top:6px;padding-bottom:12px}.bc-table abbr{text-decoration:none}@supports (display: grid){@media all and (min-width: 47.9385em) and (max-width: 63.9375em){.bc-table tr{display:grid}.bc-table-web tr{grid-template-columns:repeat(12, 1fr)}.bc-table-js tr{grid-template-columns:repeat(13, 1fr)}.bc-table-ext tr{grid-template-columns:repeat(5, 1fr)}.text-content .bc-table td,.text-content .bc-table th{width:auto}.bc-table thead td{display:none;z-index:1}th[class^=&apos;bc-platform&apos;][colspan=&apos;2&apos;]{grid-column-end:span 2}th[class^=&apos;bc-platform&apos;][colspan=&apos;3&apos;]{grid-column-end:span 3}th[class^=&apos;bc-platform&apos;][colspan=&apos;4&apos;]{grid-column-end:span 4}th[class^=&apos;bc-platform&apos;][colspan=&apos;5&apos;]{grid-column-end:span 5}th[class^=&apos;bc-platform&apos;][colspan=&apos;6&apos;]{grid-column-end:span 6}th[class^=&apos;bc-platform&apos;][colspan=&apos;7&apos;]{grid-column-end:span 7}.bc-table tbody th{grid-column-start:1;grid-column-end:last-line;border-right:none}.bc-history{padding-left:0}}@media all and (min-width: 47.9385em) and (max-width: 74.9375em){.bc-browsers .bc-head-txt-label{position:relative;bottom:-150px}}@media all and (min-width: 63.9385em) and (max-width: 74.9375em){.wiki-left-present .bc-table tr{display:grid}.wiki-left-present .bc-table-web tr{grid-template-columns:repeat(12, 1fr)}.wiki-left-present .bc-table-js tr{grid-template-columns:repeat(13, 1fr)}.wiki-left-present .bc-table-ext tr{grid-template-columns:repeat(5, 1fr)}.wiki-left-present .text-content .bc-table td,.wiki-left-present .text-content .bc-table th{width:auto}.wiki-left-present .bc-table thead td{display:none;z-index:1}.wiki-left-present th[class^=&apos;bc-platform&apos;][colspan=&apos;2&apos;]{grid-column-end:span 2}.wiki-left-present th[class^=&apos;bc-platform&apos;][colspan=&apos;3&apos;]{grid-column-end:span 3}.wiki-left-present th[class^=&apos;bc-platform&apos;][colspan=&apos;4&apos;]{grid-column-end:span 4}.wiki-left-present th[class^=&apos;bc-platform&apos;][colspan=&apos;5&apos;]{grid-column-end:span 5}.wiki-left-present th[class^=&apos;bc-platform&apos;][colspan=&apos;6&apos;]{grid-column-end:span 6}.wiki-left-present th[class^=&apos;bc-platform&apos;][colspan=&apos;7&apos;]{grid-column-end:span 7}.wiki-left-present .bc-table tbody th{grid-column-start:1;grid-column-end:last-line;border-right:none}.wiki-left-present .bc-history{padding-left:0}}}@media all and (max-width: 47.9375em){.bc-table thead{display:none}.bc-table thead td{z-index:2}.text-content .bc-table tbody th{width:100%;max-width:100%;display:block;border-right:0;border-bottom:1px solid #222;padding-top:20px;padding-bottom:0}.bc-table tbody td{position:relative;min-width:100%;width:100%;max-width:100%;display:block;box-sizing:border-box;box-shadow:inset 220px 0 0 0 #eaeff2;border-top:1px solid #222;border-left:0;padding-left:250px;padding-right:10px;text-align:left}.bc-table tbody td[tabindex]{padding-bottom:20px}.bc-table-web th:nth-child(8),.bc-table-web td:nth-child(8){border-top:2px solid #222;border-left:none}.bc-table-js th:nth-child(8),.bc-table-js td:nth-child(8){border-top:2px solid #222;border-left:none}.bc-table-js th:nth-child(15),.bc-table-js td:nth-child(15){border-top:2px solid #222;border-left:none}.bc-table-ext th:nth-child(6),.bc-table-ext td:nth-child(6){border-top:2px solid #222;border-left:none}}.bc-supports-yes,.bc-supports-partial,.bc-supports-no,.bc-supports-unknown,.bc-table .bc-history{color:#222}.bc-supports-yes a,.bc-supports-partial a,.bc-supports-no a,.bc-supports-unknown a{color:#222;text-decoration:underline}.bc-supports-yes{background-color:#e4f8e1}.bc-supports-partial{background:#fff3d4;background-image:linear-gradient(to bottom right, rgba(246,183,60,0.3) 0, rgba(246,183,60,0.3) 1px, transparent 1px, transparent 67px, rgba(246,183,60,0.3) 67px, rgba(246,183,60,0.3) 73px, transparent 73px, transparent 138px, rgba(246,183,60,0.3) 138px, rgba(246,183,60,0.3) 144px, transparent 144px);background-size:100px 100px;background-position:50%  50%;background-repeat:no-repeat}.bc-supports-no{background-color:#f8e1e1;background-image:linear-gradient(to bottom right, rgba(230,100,101,0.2) 0, rgba(230,100,101,0.2) 1px, transparent 1px, transparent 67px, rgba(230,100,101,0.2) 67px, rgba(230,100,101,0.2) 73px, transparent 73px, transparent 138px, rgba(230,100,101,0.2) 138px, rgba(230,100,101,0.2) 144px, transparent 144px),linear-gradient(to bottom left, rgba(230,100,101,0.2) 0, rgba(230,100,101,0.2) 1px, transparent 1px, transparent 67px, rgba(230,100,101,0.2) 67px, rgba(230,100,101,0.2) 73px, transparent 73px, transparent 138px, rgba(230,100,101,0.2) 138px, rgba(230,100,101,0.2) 144px, transparent 144px);background-size:100px 100px, 100px 100px;background-position:50%  50%, 50%  50%;background-repeat:no-repeat}.bc-supports-unknown{background-color:#eee}@media all and (max-width: 47.9375em){td.bc-supports-partial{background-position:calc(50% + 110px) 50%}td.bc-supports-no{background-position:calc(50% + 110px) 50%,calc(50% + 110px) 50%}}.bc-history-link{background-color:transparent;border-radius:0;border:none;box-shadow:none;color:#333;padding:0;position:absolute;top:100%;right:0;z-index:11;display:block;width:100%;height:11px;margin-top:-10px;clear:both;text-align:center;font-size:12px;font-size:.66667rem;border-top:1px solid rgba(34,34,34,0.3)}.bc-history-link i{position:relative;top:-4px}.active .bc-history-link{z-index:21;transform:scaleY(-1)}.active .bc-history-link,td[tabindex]:hover .bc-history-link,td[tabindex]:focus .bc-history-link{background-color:#222;border-top:1px solid #222}.active.bc-supports-yes .ic-history:before,td[tabindex].bc-supports-yes:hover .ic-history:before,td[tabindex].bc-supports-yes:focus .ic-history:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyBzdHlsZT0iZmlsbDogI2U0ZjhlMTsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE2IiBoZWlnaHQ9IjI4IiB2aWV3Qm94PSIwIDAgMTYgMjgiPjxwYXRoIGQ9Ik0xNiAxMWEuOTkuOTkgMCAwIDEtLjI5Ny43MDNsLTcgN0M4LjUxNiAxOC44OSA4LjI2NSAxOSA4IDE5cy0uNTE2LS4xMDktLjcwMy0uMjk3bC03LTdBLjk5Ni45OTYgMCAwIDEgMCAxMWMwLS41NDcuNDUzLTEgMS0xaDE0Yy41NDcgMCAxIC40NTMgMSAxeiIvPjwvc3ZnPg==&quot;)}.active.bc-supports-no .ic-history:before,td[tabindex].bc-supports-no:hover .ic-history:before,td[tabindex].bc-supports-no:focus .ic-history:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyBzdHlsZT0iZmlsbDogI2Y4ZTFlMTsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE2IiBoZWlnaHQ9IjI4IiB2aWV3Qm94PSIwIDAgMTYgMjgiPjxwYXRoIGQ9Ik0xNiAxMWEuOTkuOTkgMCAwIDEtLjI5Ny43MDNsLTcgN0M4LjUxNiAxOC44OSA4LjI2NSAxOSA4IDE5cy0uNTE2LS4xMDktLjcwMy0uMjk3bC03LTdBLjk5Ni45OTYgMCAwIDEgMCAxMWMwLS41NDcuNDUzLTEgMS0xaDE0Yy41NDcgMCAxIC40NTMgMSAxeiIvPjwvc3ZnPg==&quot;)}.active.bc-supports-partial .ic-history:before,td[tabindex].bc-supports-partial:hover .ic-history:before,td[tabindex].bc-supports-partial:focus .ic-history:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyBzdHlsZT0iZmlsbDogI2ZmZjNkNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAxNiAyOCI+PHBhdGggZD0iTTE2IDExYS45OS45OSAwIDAgMS0uMjk3LjcwM2wtNyA3QzguNTE2IDE4Ljg5IDguMjY1IDE5IDggMTlzLS41MTYtLjEwOS0uNzAzLS4yOTdsLTctN0EuOTk2Ljk5NiAwIDAgMSAwIDExYzAtLjU0Ny40NTMtMSAxLTFoMTRjLjU0NyAwIDEgLjQ1MyAxIDF6Ii8+PC9zdmc+&quot;)}.active.bc-supports-unknown .ic-history:before,td[tabindex].bc-supports-unknown:hover .ic-history:before,td[tabindex].bc-supports-unknown:focus .ic-history:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyBzdHlsZT0iZmlsbDogI2VlZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAxNiAyOCI+PHBhdGggZD0iTTE2IDExYS45OS45OSAwIDAgMS0uMjk3LjcwM2wtNyA3QzguNTE2IDE4Ljg5IDguMjY1IDE5IDggMTlzLS41MTYtLjEwOS0uNzAzLS4yOTdsLTctN0EuOTk2Ljk5NiAwIDAgMSAwIDExYzAtLjU0Ny40NTMtMSAxLTFoMTRjLjU0NyAwIDEgLjQ1MyAxIDF6Ii8+PC9zdmc+&quot;)}@media all and (max-width: 47.9375em){.bc-history-link{width:calc( 100% - 219px);height:20px;margin-top:-20px;font-size:16px;font-size:.88889rem}.bc-history-link i{top:0;margin:0}}.bc-table .bc-history{position:absolute;top:100%;z-index:20;display:none;visibility:hidden;overflow:hidden;box-sizing:border-box;border-top:1px solid #222;border-bottom:2px solid #222;cursor:default;background-color:#eaeff2;background-image:none}.bc-table-web .bc-history{padding-left:320px}.bc-table-js .bc-history{padding-left:320px}.bc-table-ext .bc-history{padding-left:420px}.active .bc-history{display:block;visibility:visible;height:0}.bc-history:before{content:&apos;&apos;;display:block;height:45px;width:60px;float:right}.bc-history-head{padding-top:10px;padding-left:10px;margin-bottom:10px;font-size:19px;font-size:1.05556rem;text-align:left}.bc-history dl{text-align:left;margin:20px}.bc-history dt{float:left;clear:left;max-width:120px;margin-left:-140px}.bc-history dt,.bc-history dd{margin-top:30px}.bc-history dd{min-height:1.2em;margin-bottom:0;padding-top:4px;padding-left:0;padding-bottom:10px;font-weight:normal}.bc-history dl&gt;dt:first-child,.bc-history dl&gt;dt:first-child+dd,.bc-history dd+dd{margin-top:0}.bc-history-button{position:absolute;top:10px;right:10px}.bc-history-button svg{width:12px;height:18px}.bc-supports{display:inline-block;position:relative;border:1px solid #222;padding:3px;min-width:120px;text-align:center}.bc-legend .bc-supports{display:inline-block;min-width:30px}@media all and (min-width: 47.9385em) and (max-width: 63.9375em){.bc-table .bc-history{padding-left:140px}}@media all and (min-width: 63.9385em) and (max-width: 74.9375em){.wiki-left-present .bc-table .bc-history{padding-left:140px}}@media all and (max-width: 47.9375em){.bc-table .bc-history{padding-left:0}.bc-history dl{margin-left:10px}.bc-history dt{margin-top:10px;margin-left:0;margin-bottom:10px}.bc-history dd{clear:left;min-height:0}}.bc-footnotes dt{margin-top:10px;font-weight:bold}.bc-footnotes dl&gt;dt:first-child{margin-top:0}.bc-footnotes dd{margin-left:20px}.bc-legend{margin-bottom:20px;margin-top:20px}.bc-legend dl{display:grid;grid-template-columns:30px 1fr}.bc-legend dt{display:block;margin:0 0 5px 0}.bc-legend dd{display:block;margin:0 10px 5px 10px}@media all and (min-width: 47.9385em){.bc-legend dl{grid-template-columns:30px 1fr 30px 1fr}}.bc-github-link{display:inline-block}.bc-github-link{float:right}html[dir=&apos;rtl&apos;] .bc-github-link{float:left}div.signal-link-ext-container{overflow:hidden}div.signal-link-container{width:100%;cursor:pointer;transition:all 1s ease-out}div.signal-link-container&gt;hr{background-color:#3d7e9a;margin:0;max-width:100%;height:8px;cursor:default}div.signal-link-container&gt;a{float:right;background-color:#3d7e9a;color:#fff;padding-right:15px;padding-left:15px;border:0;border-bottom-left-radius:4px;border-bottom-right-radius:4px;font-weight:bold;height:35px;min-width:230px;text-align:center}div.signal-link-container.slideUp{overflow:hidden;transform:translateY(-100%)}@media all and (max-width: 63.9375em){div.signal-link-container+section{padding-top:30px}}.navigation-buttons{display:flex;justify-content:space-between;margin:30px 0}.navigation-buttons.reverse{flex-direction:row-reverse}@media all and (max-width: 63.9375em){.navigation-buttons{justify-content:center}.navigation-buttons&gt;.main-btn{width:200px}.navigation-buttons.mob-reduced-space{margin:10px 0}}.next-step-btn,.prev-step-btn{display:flex;align-items:center;font-weight:normal}.next-step-btn&gt;span,.prev-step-btn&gt;span{display:inline-block;width:16px;height:15px;margin-top:-1px}@media all and (max-width: 63.9375em){.next-step-btn,.prev-step-btn{display:none}}.prev-step-btn{border-color:#333;color:#333}.prev-step-btn&gt;span{background:url(&quot;/static/arrows/arrow.svg&quot;) center no-repeat;background-size:14px 15px;transform:rotate(180deg);margin-right:8px;margin-top:0}@media all and (max-width: 63.9375em){.prev-step-btn{display:none}}.next-step-btn&gt;span{background:url(&quot;/static/img/arrow-right-blue.svg&quot;) center no-repeat;background-size:14px 15px;margin-left:8px}@media all and (max-width: 63.9375em){.next-step-btn{display:none}}div.bc-signal-block{background-color:#e4f0f5;box-sizing:border-box;max-height:0;overflow:hidden;transition:max-height .3s ease-out, padding-top .1s ease .3s}div.bc-signal-block:not(.complete){padding-top:0}@media all and (max-width: 63.9375em){div.bc-signal-block.complete.open{transition:none}}div.bc-signal-block .left-block{box-sizing:border-box;padding:32px 0 32px 3%}@media all and (max-width: 63.9375em){div.bc-signal-block .left-block{padding:16px}}div.bc-signal-block .left-block .complete-left-block-image{display:block;width:209px;height:154px;background:url(&quot;/static/img/dino-happy.svg&quot;) center no-repeat;margin:0 auto}div.bc-signal-block .left-block .left-block-image{display:block;width:146px;height:133px;margin:0 auto;background-image:url(&quot;/static/img/dino-confuse.svg&quot;)}@media all and (max-width: 63.9375em){div.bc-signal-block .left-block .left-block-image{display:none}}div.bc-signal-block .left-block .left-block-header{font-family:x-locale-heading-primary, zillaslab, Palatino, &apos;Palatino Linotype&apos;, x-locale-heading-secondary, serif;margin-top:20px;font-size:25px;font-weight:bold;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:#333333;background:none}div.bc-signal-block .left-block .complete-left-block-header{font-family:ZillaSlab;font-size:37px;font-weight:normal;color:#3d7e9a;text-align:center}div.bc-signal-block .close-button-wrapper{display:none;text-align:right}div.bc-signal-block .close-button-wrapper&gt;.close-btn{width:32px;height:32px;background:#fff url(&quot;/static/general/close-light.svg&quot;) no-repeat center;border-color:#000}@media all and (max-width: 63.9375em){div.bc-signal-block .close-button-wrapper{display:block}}.right-block{padding:0 16px;box-sizing:border-box}.right-block.form-control-block{box-sizing:border-box;background-color:#f5f9fa;padding:16px}.right-block&gt;.right-block-header{font-family:ZillaSlab;font-size:37px;display:block;background-color:transparent}.right-block&gt;.right-block-header&gt;span{background-color:#333333;color:#fff;padding:4px 8px}@media all and (max-width: 63.9375em){.right-block&gt;.right-block-header{text-align:center;font-size:27px;margin-top:0;margin-bottom:27px}}.right-block h3.highlight-spanned{margin:0;text-align:right}@media all and (max-width: 63.9375em){.right-block h3.highlight-spanned{display:none}}.right-block .right-block-main-text a&gt;span.icon-external-link{background-image:url(&quot;/static/general/external-link.svg&quot;) center no-repeat;background-size:12px;width:12px;height:20px;margin-top:3px;margin-right:3px;display:inline-block}.right-block .right-block-main-text h4{font-family:inherit;font-size:16px;margin:0}.inner-step{height:100%}.inner-step .step-num{background:#3d7e9a;box-sizing:border-box;align-items:center;justify-content:center;width:24px;height:24px;min-width:24px;min-height:24px;border-radius:50%;padding:2px 3px;font-size:14px;font-weight:bold;text-align:center;color:#ffffff;margin-right:8px;display:flex;float:left}.inner-step .step-num.inline{display:inline-flex;width:24px;height:24px;padding:0}@media all and (min-width: 63.9385em){.inner-step .step-num.inline{display:none}}@media all and (min-width: 63.9385em){.inner-step{display:none}.inner-step.active{display:flex;flex-direction:column;justify-content:space-between}}@media all and (max-width: 63.9375em){.inner-step{display:flex;flex-direction:column;justify-content:space-between}}.control{clear:both}.control:not(:first-child){margin-top:20px}.control .control-wrap{width:92%}@media all and (max-width: 47.9375em){.control .control-wrap{width:100%}}.control .control-header{width:100%;font-size:17.6px;font-weight:bold;font-style:normal;font-stretch:normal;letter-spacing:normal;color:#333333;margin-bottom:8px;line-height:1.31}.control .control-header.has-control{display:flex;align-items:center}@media all and (max-width: 63.9375em){.control .control-header.has-control{display:block}}.control .control-header.with-optional-label{display:flex}@media all and (max-width: 63.9375em){.control .control-header.with-optional-label{justify-content:space-between}}.control .control-description{margin:10px 0 16px 32px;font-size:14px;line-height:1.4;letter-spacing:normal;color:#333333}@media all and (max-width: 47.9375em){.control .control-description{margin-left:0}}.control .select-wrapper{position:relative;margin-left:32px}@media all and (max-width: 63.9375em){.control .select-wrapper{margin-left:32px;width:100%}}@media all and (max-width: 47.9375em){.control .select-wrapper{margin-left:0}}.control .select-wrapper:after{content:&apos; &apos;;position:absolute;z-index:2;right:8px;top:50%;margin-top:-3px;height:0;width:0;border-top:6px solid #3d7e9a;border-left:4px solid transparent;border-right:4px solid transparent;pointer-events:none}.control select#select-row{cursor:pointer;display:inline-block;line-height:1;font-weight:bold;letter-spacing:normal;border:2px solid #3d7e9a;background-color:#fff;padding:5px 11px;color:#285c76;text-decoration:none;height:32px;min-width:100px;border-radius:0;-webkit-appearance:none;-moz-appearance:none}.control textarea#brief-explanation,.control textarea#supporting-material{box-sizing:border-box;border-color:#3d7e9a;height:72px;margin-left:32px}@media all and (max-width: 47.9375em){.control textarea#brief-explanation,.control textarea#supporting-material{margin-left:0}}.control span.optional-text{font-size:17.6px;font-weight:normal;font-style:italic;line-height:normal;color:#9a3d3d;margin:2px 0 2px 15px;float:right}.error-message{background-color:#ffe7e8;padding:15px;font-size:17px;margin-top:30px;display:none}.error-message.visible{display:block}.error-message .error-label{font-weight:600;padding-right:8px;letter-spacing:.4px}.select-browser-block{display:flex;flex-wrap:wrap;margin-left:32px}@media all and (max-width: 47.9375em){.select-browser-block{margin-left:0}}.select-browser-block&gt;.browser{box-sizing:border-box;text-align:center;float:left;width:80px;height:120px;padding:5px;cursor:pointer}.select-browser-block&gt;.browser .browser-logo{position:relative;display:flex;justify-content:center;align-items:center;width:48px;height:48px;margin:0 auto;border:solid 2px #979797;transition:border-color .1s}.select-browser-block&gt;.browser:hover:not(.selected) .browser-logo{border-color:#3d7e9a;outline:3px #3d7e9a solid;outline-offset:-3px}.select-browser-block&gt;.browser&gt;.browser-logo&gt;img{width:29px;height:29px}.select-browser-block&gt;.browser&gt;.browser-logo&gt;.browser-selected-icon{position:absolute;display:none;bottom:-11.5px;right:-11.5px;width:23px;height:23px;background:#2bce1e url(&quot;/static/img/icn-check.svg&quot;) center no-repeat;border-radius:50%}.select-browser-block&gt;.browser&gt;.browser-logo&gt;.browser-selected-icon img{width:13px;height:13px}.select-browser-block&gt;.browser.selected .browser-logo{border:solid 2px #2bce1e}.select-browser-block&gt;.browser.selected .browser-logo .browser-selected-icon{display:inline}.select-browser-block&gt;.browser .browser-name{margin-top:8px;font-family:Arial;font-size:14px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:1.29;letter-spacing:normal;text-align:center;color:#333333}@media all and (max-width: 63.9375em){div.bc-signal-block{transition:max-height .8s ease-out, padding-top .1s ease .7s}div.bc-signal-block.open{max-height:1800px;transition:max-height .8s ease-out, padding-top 0s ease-out 0s}textarea#brief-explanation,textarea#supporting-material,select#select-row{width:100%}select#select-row{margin-top:20px;width:100%}}@media all and (min-width: 63.9385em){div.bc-signal-block.open{padding-top:8px;max-height:700px;display:flex;align-items:stretch;transition:max-height .3s ease-out, padding-top 0s ease-out 0s}div.bc-signal-block.complete{padding:0 100px;transition:max-height .3s ease-out, padding .1s ease .18s;display:flex;align-items:center}div.bc-signal-block.complete.open{padding:53px 100px;box-sizing:border-box;display:flex;transition:max-height .3s ease-out, padding-top 0s ease-out 0s}.control{display:flex}.step-num.inline{padding:5px 9px;display:none}select#select-row{margin-left:20px}textarea#brief-explanation,textarea#supporting-material{width:500px;max-width:100%}}          &lt;/style&gt;&lt;style&gt;            .bc-github-link{white-space:pre-line;float:right;display:inline-block}.bc-table{width:100%;table-layout:fixed;border:none;border-collapse:separate;border-spacing:0;background-color:#eaeef2;background-color:rgba(212,221,228,0.5)}.bc-table{margin-bottom:0}.bc-table th{background-color:transparent;overflow:hidden;padding:5px 3px 5px 6px}.bc-table tr{position:relative;border-bottom:0 solid transparent}.bc-table thead td{border-top:0;border-right:2px solid #222;border-left:0}.bc-table tbody th,.bc-table thead td{overflow:hidden}.bc-table td,.bc-table th{position:relative;padding:5px 3px;border-color:#222;border-top:1px solid #222;border-right:0;border-bottom:0 solid transparent;border-left:1px solid #222;text-align:center}.bc-table tbody th{border-right:2px solid #222;border-left:0;text-align:left}.bc-table,.bc-table tbody,.bc-table td,.bc-table th,.bc-table thead,.bc-table tr{box-sizing:border-box}.bc-table tbody th+td,.bc-table thead td+th{border-left:0}.bc-table-web td:nth-child(8),.bc-table-web th:nth-child(8){border-left:2px solid #222}.bc-table tbody th+td,.bc-table thead td+th{border-left:0}.bc-table-web tbody td,.bc-table-web thead th{width:7.69231%}.bc-table-web tbody th,.bc-table-web thead td{width:200px}.bc-table tbody td[tabindex],.no-js .bc-table tbody td{padding-top:6px;padding-bottom:12px}.bc-table td[tabindex]{cursor:pointer}.bc-table tbody tr:nth-child(even){background-color:#eaeef2}.bc-table tbody th a{color:#3d7e9a}.bc-table tbody th code{color:unset;word-wrap:break-word;width:100%;position:relative;font-weight:100;font-size:1.1em}.bc-table .bc-platforms th{width:auto;padding:5px 0 2px;border-top:0;border-bottom:2px solid #222;border-left:2px solid #222;font-size:28px;font-size:1.55556rem}.bc-table .bc-platforms span{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute !important;width:1px;text-transform:capitalize}.bc-table .bc-platforms .bc-platform-desktop:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIyOCIgYXJpYS1oaWRkZW49InRydWUiIHJvbGU9ImltZyI+PHBhdGggZD0iTTI4IDE1LjV2LTEzYzAtLjI2Ni0uMjM0LS41LS41LS41aC0yNWMtLjI2NiAwLS41LjIzNC0uNS41djEzYzAgLjI2Ni4yMzQuNS41LjVoMjVjLjI2NiAwIC41LS4yMzQuNS0uNXptMi0xM3YxN2MwIDEuMzc1LTEuMTI1IDIuNS0yLjUgMi41SDE5YzAgMS4zMjggMSAyLjQ1MyAxIDNzLS40NTMgMS0xIDFoLThjLS41NDcgMC0xLS40NTMtMS0xIDAtLjU3OCAxLTEuNjQxIDEtM0gyLjVBMi41MDcgMi41MDcgMCAwIDEgMCAxOS41di0xN0MwIDEuMTI1IDEuMTI1IDAgMi41IDBoMjVDMjguODc1IDAgMzAgMS4xMjUgMzAgMi41eiIvPjwvc3ZnPgo=&quot;);background-size:24px;width:24px;height:24px}.bc-table .bc-platforms .bc-platform-mobile:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIyOCIgYXJpYS1oaWRkZW49InRydWUiIHJvbGU9ImltZyI+PHBhdGggZD0iTTcuMjUgMjJjMC0uNjg4LS41NjItMS4yNS0xLjI1LTEuMjVzLTEuMjUuNTYyLTEuMjUgMS4yNS41NjIgMS4yNSAxLjI1IDEuMjUgMS4yNS0uNTYyIDEuMjUtMS4yNXptMy4yNS0yLjV2LTExYzAtLjI2Ni0uMjM0LS41LS41LS41SDJjLS4yNjYgMC0uNS4yMzQtLjUuNXYxMWMwIC4yNjYuMjM0LjUuNS41aDhjLjI2NiAwIC41LS4yMzQuNS0uNXptLTMtMTMuMjVBLjI0Ni4yNDYgMCAwIDAgNy4yNSA2aC0yLjVjLS4xNDEgMC0uMjUuMTA5LS4yNS4yNXMuMTA5LjI1LjI1LjI1aDIuNWMuMTQxIDAgLjI1LS4xMDkuMjUtLjI1ek0xMiA2djE2YzAgMS4wOTQtLjkwNiAyLTIgMkgyYy0xLjA5NCAwLTItLjkwNi0yLTJWNmMwLTEuMDk0LjkwNi0yIDItMmg4YzEuMDk0IDAgMiAuOTA2IDIgMnoiLz48L3N2Zz4K&quot;);background-size:16px;width:16px;height:32px;margin-top:0}.bc-table .bc-platforms .bc-platform-server:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOCIgaGVpZ2h0PSIyOCIgYXJpYS1oaWRkZW49InRydWUiIHJvbGU9ImltZyI+PHBhdGggZD0iTTIgMjJoMTZ2LTJIMnYyem0wLThoMTZ2LTJIMnYyem0yNC41IDdhMS41IDEuNSAwIDEgMC0zLjAwMS4wMDFBMS41IDEuNSAwIDAgMCAyNi41IDIxek0yIDZoMTZWNEgydjJ6bTI0LjUgN2ExLjUgMS41IDAgMSAwLTMuMDAxLjAwMUExLjUgMS41IDAgMCAwIDI2LjUgMTN6bTAtOGExLjUgMS41IDAgMSAwLTMuMDAxLjAwMUExLjUgMS41IDAgMCAwIDI2LjUgNXpNMjggMTh2Nkgwdi02aDI4em0wLTh2Nkgwdi02aDI4em0wLTh2NkgwVjJoMjh6Ii8+PC9zdmc+Cg==&quot;);background-size:24px;width:24px;height:24px;margin-top:5px}.bc-table .bc-platforms td+th{border-left:0}.bc-table .bc-platforms th:before{display:inline-block;content:&quot;&quot;;background-repeat:no-repeat;background-size:24px;margin-top:10px;width:24px;height:24px}.bc-browsers .bc-head-icon-chrome:before,.bc-browsers .bc-head-icon-chrome_android:before,.bc-browsers .bc-head-icon-edge:before,.bc-browsers .bc-head-icon-edge_mobile:before,.bc-browsers .bc-head-icon-firefox:before,.bc-browsers .bc-head-icon-firefox_android:before,.bc-browsers .bc-head-icon-ie:before,.bc-browsers .bc-head-icon-nodejs:before,.bc-browsers .bc-head-icon-opera:before,.bc-browsers .bc-head-icon-opera_android:before,.bc-browsers .bc-head-icon-safari:before,.bc-browsers .bc-head-icon-safari_ios:before,.bc-browsers .bc-head-icon-samsunginternet_android:before,.bc-browsers .bc-head-icon-webview_android:before,.bc-platforms .bc-platform-desktop:before,.bc-platforms .bc-platform-mobile:before,.bc-platforms .bc-platform-server:before,.ic-altname:before,.ic-deprecated:before,.ic-disabled:before,.ic-experimental:before,.ic-footnote:before,.ic-history:before,.ic-non-standard:before{display:inline-block;content:&quot;&quot;;background-repeat:no-repeat}.bc-table .bc-browsers th{border-top:0;padding:3px 0;height:200px;vertical-align:bottom;font-size:22px;font-size:1.22222rem}.bc-table .bc-browsers td+th{border-left:0}.bc-table .bc-browsers .bc-head-txt-label{display:inline-block;bottom:0;margin:0 0 20px 10px;padding:0;width:20px;height:20px;transform:rotate(-90deg);transform-origin:left;font-size:20px;font-size:1.11111rem;text-align:left;white-space:nowrap;font-weight:400}.bc-table .bc-browsers .bc-head-txt-label:before{position:absolute;left:-28px;display:inline-block;content:&quot;&quot;;background-repeat:no-repeat;transform:rotate(90deg)}.bc-browsers .bc-head-icon-chrome:before,.bc-browsers .bc-head-icon-chrome_android:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIyOCIgYXJpYS1oaWRkZW49InRydWUiIHJvbGU9ImltZyI+PHBhdGggZD0iTTEzLjk1MyAwQTEzLjkgMTMuOSAwIDAgMSAyMSAxLjg3NWExNC4wNCAxNC4wNCAwIDAgMSA1LjUgNS44MTJsLTExLjU5NC0uNjA5Yy0zLjI4MS0uMTg3LTYuNDA2IDEuNjU2LTcuNDg0IDQuNzVMMy4xMSA1LjIwM0M1Ljc5OCAxLjg1OSA5LjgyOS4wMTYgMTMuOTU0IDB6TTIuMjgxIDYuMzI4bDUuMjY2IDEwLjM1OWMxLjQ4NCAyLjkyMiA0LjYyNSA0LjcwMyA3Ljg3NSA0LjA5NGwtMy41OTQgNy4wNDdDNS4xMjUgMjYuNzk3IDAgMjEgMCAxNGMwLTIuODI4Ljg0NC01LjQ2OSAyLjI4MS03LjY3MnptMjQuNzgxIDIuNjQxYzIuNDUzIDYuMzEyIDAgMTMuNjU2LTYuMDYyIDE3LjE1NmExMy45NjIgMTMuOTYyIDAgMCAxLTcuNzgxIDEuODU5bDYuMzI4LTkuNzM0YzEuNzk3LTIuNzY2IDEuNzY2LTYuMzc1LS4zNzUtOC44NzV6TTE0IDkuMjgxYzIuNjA5IDAgNC43MTkgMi4xMDkgNC43MTkgNC43MTlTMTYuNjEgMTguNzE5IDE0IDE4LjcxOSA5LjI4MSAxNi42MSA5LjI4MSAxNCAxMS4zOSA5LjI4MSAxNCA5LjI4MXoiLz48L3N2Zz4K&quot;);background-size:20px;width:20px;height:24px}.bc-browsers .bc-head-icon-edge:before,.bc-browsers .bc-head-icon-edge_mobile:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MDAgNTAwIj48Zz48cGF0aCBkPSJNMzA5LjQ4LDQ4Mi4zOUMyNTEsNDg1LjQ5LDE5Niw0NDMuNTksMTgxLjE2LDM4NXEtMTUuMDctNTkuNTMsMTcuODktMTExLjMxYzEuMjktMiwyLjE2LTUuNTYsNS41My00Ljc1LDIuMzQuNTcsMS44NCwzLjQ1LDIuMDksNS40MSw1Ljg2LDQ0LjU0LDMxLjI3LDc1LjU1LDY5Ljg1LDk1Ljc1LDU0LjgyLDI4LjcsMTEwLjU0LDI3LjI4LDE2NiwuNjksNS4zOC0yLjU4LDExLjI3LTguMDcsMTYuOTMtMiw1Ljk1LDYuMzUuMTcsMTIuMjYtMy4yMywxNy40OC0yOS42LDQ1LjM3LTY3LjYzLDc5Ljg4LTEyMi4xMyw5Mi43NC01LjE5LDEuMjMtMTAuNDcsMi4xMy0xNS43NCwyLjkyQTg3LjQ3LDg3LjQ3LDAsMCwxLDMwOS40OCw0ODIuMzlaIi8+PHBhdGggZD0iTTI2MS42MSwyMDcuODVjMTIuMTcsMi41OC01OS4zOC01Ni44Mi0xNDcuNDctNDMuNDQtMzAuNjMsNC42NS0xMDEuMTMsMzEuMjItOTUuMjEsMTI2LDEwLjYsMTcwLjA2LDE0OC41NywxOTQuOSwxOTQuNTUsMTk4LjQ1YTUuMzMsNS4zMywwLDAsMCw0LjEyLTkuMTZjLTI0LjQ5LTIzLjQ2LTkxLjM4LTY0Ljg2LTc2LjM2LTE1MC4zMUMxNTQuODEsMjUyLjI1LDIxMC4xNywxOTcsMjYxLjYxLDIwNy44NVoiLz48cGF0aCBkPSJNMzE2LjQsMzE0LjE5YzIwLDYuOSw1MiwxMC45MSw5OS44OC0xLjNhMS40LDEuNCwwLDAsMCwuMjktLjA5YzQxLjM2LTE2LjA2LDYyLjYyLTUxLjQ4LDY3LjEzLTgyLjI4QzQ5Ny4yNiwxMzguMDgsNDE5LjMyLDEzLjkzLDI4Mi45MSw5Ljg4LDkzLjc2LDQuMjUsNDEuODUsMTI3LjU3LDMxLjkzLDE1OGEyLjA4LDIuMDgsMCwwLDAsMy4yNywyLjI3YzIyLTE3LjYsMTExLjA2LTc4LjI0LDIyMS41OS04Ljc2LjA4LDAsLjE1LjEuMjMuMTUsNjIuNDEsNDkuNDksNTQuNTYsOTkuNjgsNDMuMywxMjYuNTVBMjYuODMsMjYuODMsMCwwLDAsMzE2LjQsMzE0LjE5WiIvPjwvZz48L3N2Zz4K&quot;);background-size:20px;width:20px;height:24px}.bc-browsers .bc-head-icon-firefox:before,.bc-browsers .bc-head-icon-firefox_android:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNyIgaGVpZ2h0PSIyOCIgYXJpYS1oaWRkZW49InRydWUiIHJvbGU9ImltZyI+PHBhdGggZD0iTTE0LjEwOSAyOGMtNi4wMzEgMC0xMC44MjgtMy41MzEtMTMuMDMxLTguNTc4Qy0xLjM5MSAxMy44MTMuNTc4IDQuODI4IDQuOTY5Ljg2bC0uMTcyIDQuMzkxYy4yMTktLjI4MSAxLjg5MS0uMzU5IDIuMTU2IDAgLjkwNi0xLjczNCAzLjgyOC0zLjAzMSA2LjE3Mi0zLjA3OC0uODkxLjc1LTIuOTUzIDMuNDg0LTIuNzgxIDQuODc1IDEuMTQxLjM1OSAyLjg5MS4zNzUgMy44MTMuNDM4LjI4MS4xNTYuMjM0IDEuMTA5LS4zMjggMS44OTEgMCAwLS43MzQgMS4wMTYtMi43MTkgMS4zNzVsLjIzNCAyLjk1My0yLjE3Mi0xLjA0N2MtLjcwMyAxLjc4MS45ODQgMy4zNTkgMi43MzQgMy4wNjMgMS45MzctLjMyOCAyLjYyNS0xLjU5NCAzLjk4NC0xLjUxNiAxLjM0NC4wNzggMS44NzUuODI4IDEuNzAzIDEuNTMxIDAgMC0uMjE5Ljg0NC0xLjY3Mi43MDMtMS4yMzQgMS45NTMtMi44NzUgMi44MTItNS41MzEgMi41NzggNC4wMzEgMy4zNDQgOS40NjkuMzEzIDEwLjg0NC0yLjQyMiAxLjM3NS0yLjcxOS4xNzItNi43NjYtMS4yMDMtNy45MDYgMS42MjUuNzAzIDIuNzUgMS40MjIgMy4zNDQgMyAuMzEzLTMuNS0xLjI5Ny03LjQ2OS00LjE3Mi05Ljc5N0MyNC42MDkgMy40NyAyNy45MDYgNy42NTggMjggMTQuMzQ1cy01LjkyMiAxMy42NTYtMTMuODkxIDEzLjY1NnoiLz48L3N2Zz4K&quot;);background-size:20px;width:20px;height:24px}.bc-browsers .bc-head-icon-ie:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOCIgaGVpZ2h0PSIyOCIgYXJpYS1oaWRkZW49InRydWUiIHJvbGU9ImltZyI+PHBhdGggZD0iTTI4IDE0LjY0MWMwIC41NDctLjAzMSAxLjA5NC0uMTA5IDEuNjI1SDkuOTA3YzAgMy4xMDkgMi43MzQgNS4zNTkgNS43MzQgNS4zNTkgMi4wMzEgMCAzLjk4NC0xIDUuMDMxLTIuNzY2aDYuNjA5YTEyLjYwNCAxMi42MDQgMCAwIDEtMTEuODU5IDguMzc1Yy0xLjkyMiAwLTMuODQ0LS40NTMtNS41NjMtMS4yOTctMS43NS44OTEtNC4yMDMgMS44MTMtNi4xNTYgMS44MTNDMS4wNzggMjcuNzUgMCAyNi4xNDEgMCAyMy42NDFjMC0xLjQ1My4zMTMtMi45MDYuNzAzLTQuMjk3LjI1LS45MDYgMS4yNS0yLjc1IDEuNzAzLTMuNTc4IDEuOTIyLTMuNDg0IDQuNDUzLTYuODI4IDcuNDIyLTkuNDY5LTIuMzkxIDEuMDMxLTQuOTg0IDMuNjI1LTYuNjcyIDUuNTMxYTEyLjU4NSAxMi41ODUgMCAwIDEgMTIuMjY2LTkuNzY2Yy4yMzQgMCAuNDY5IDAgLjcwMy4wMTZDMTguMDYyIDEuMTg3IDIwLjc2Ni4yNSAyMi44OTEuMjVjMi41MzEgMCA0LjcwMy45NjkgNC43MDMgMy44MjggMCAxLjUtLjU3OCAzLjEyNS0xLjE3MiA0LjQ2OUExMi42MDUgMTIuNjA1IDAgMCAxIDI4IDE0LjY0MXptLTEuMDk0LTEwYzAtMS43NS0xLjI1LTIuODI4LTIuOTY5LTIuODI4LTEuMzEzIDAtMi43OTcuNTMxLTMuOTY5IDEuMDk0YTEyLjY5IDEyLjY5IDAgMCAxIDYuMTQxIDUuMTA5Yy4zOTEtMS4wMzEuNzk3LTIuMjgxLjc5Ny0zLjM3NXpNMiAyMy45NjljMCAxLjgxMyAxLjA3OCAyLjc5NyAyLjg1OSAyLjc5NyAxLjM5MSAwIDIuOTM4LS42MjUgNC4xNTYtMS4yOTdhMTIuNTg3IDEyLjU4NyAwIDAgMS01LjQ4NC02LjY4N0MyLjgxMiAyMC4yODIgMiAyMi4yODIgMiAyMy45Njl6bTcuODc1LTExLjE0MUgyMS4yNWMtLjEwOS0zLjAxNi0yLjc2Ni01LjE4Ny01LjY4OC01LjE4Ny0yLjkzOCAwLTUuNTc4IDIuMTcyLTUuNjg4IDUuMTg3eiIvPjwvc3ZnPgo=&quot;);background-size:20px;width:20px;height:24px}.bc-browsers .bc-head-icon-opera:before,.bc-browsers .bc-head-icon-opera_android:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOCIgaGVpZ2h0PSIyOCIgYXJpYS1oaWRkZW49InRydWUiIHJvbGU9ImltZyI+PHBhdGggZD0iTTIzLjMyOCAzLjU2M2ExMC4wNjggMTAuMDY4IDAgMCAwLTUuNjA5LTEuNzE5Yy0zLjMyOCAwLTYuMjY2IDEuNzAzLTguMzI4IDQuMjY2LTEuNSAxLjg3NS0yLjU0NyA0LjUzMS0yLjYyNSA3LjU2MnYuNjU2Yy4wNzggMy4wMzEgMS4xMjUgNS42ODggMi42MjUgNy41NjIgMi4wNjMgMi41NjIgNSA0LjI2NiA4LjMyOCA0LjI2NiAyLjA0NyAwIDMuOTY5LS42MjUgNS42MDktMS43MTlBMTMuOTIyIDEzLjkyMiAwIDAgMSAxNCAyOGMtLjIxOSAwLS40NTMgMC0uNjcyLS4wMTZDNS45MDYgMjcuNjQgMCAyMS41MTUgMCAxNCAwIDYuMjY2IDYuMjY2IDAgMTQgMGguMDQ3YTEzLjk4MSAxMy45ODEgMCAwIDEgOS4yODEgMy41NjN6TTI4IDE0YzAgNC4wNzgtMS43NSA3LjczNC00LjUzMSAxMC4yOTdhNi42NTMgNi42NTMgMCAwIDEtMy40NjkuOTg0Yy0xLjQzNyAwLTIuNzk3LS40NjktMy45ODQtMS4zMTMgMy4xNzItMS4xNTYgNS41MTYtNS4xNzIgNS41MTYtOS45NjkgMC00Ljc4MS0yLjMyOC04Ljc5Ny01LjUtOS45NjkgMS4xODgtLjgyOCAyLjUzMS0xLjI5NyAzLjk2OS0xLjI5NyAxLjI2NiAwIDIuNDUzLjM1OSAzLjUzMSAxLjAxNmExMy45NjMgMTMuOTYzIDAgMCAxIDQuNDY5IDEwLjI1eiIvPjwvc3ZnPgo=&quot;);background-size:20px;width:20px;height:24px}.bc-browsers .bc-head-icon-safari:before,.bc-browsers .bc-head-icon-safari_ios:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOCIgaGVpZ2h0PSIyOCIgYXJpYS1oaWRkZW49InRydWUiIHJvbGU9ImltZyI+PHBhdGggZD0iTTE0LjgyOCAxMy45NTNjMCAuNTE2LS4zNTkgMS0uOTA2IDEtLjUxNiAwLTEtLjM3NS0xLS45MDYgMC0uNTE2LjM3NS0xIC45MjItMSAuNSAwIC45ODQuMzU5Ljk4NC45MDZ6bS4yMzQuOTA2bDUuNDY5LTkuMDc4Yy0uNzM0LjY4OC03LjU3OCA2Ljk4NC03Ljc2NiA3LjMxM2wtNS40NTMgOS4wNjNjLjcxOS0uNjcyIDcuNTc4LTcgNy43NS03LjI5N3pNMjUuMTcyIDE0YzAgMi4wNDctLjU2MiA0LjA2Mi0xLjYyNSA1Ljc5Ny0uMTU2LS4wNzgtLjgxMi0uNTQ3LS45MzgtLjU0N2EuMjA3LjIwNyAwIDAgMC0uMjAzLjIwM2MwIC4yMDMuNzM0LjU3OC45MjIuNjg4YTExLjIyOSAxMS4yMjkgMCAwIDEtNi42NTYgNC43MDNsLS4yNS0xLjA0N2MtLjAxNi0uMTQxLS4xMDktLjE1Ni0uMjM0LS4xNTYtLjEwOSAwLS4xNzIuMTU2LS4xNTYuMjM0bC4yNSAxLjA2MmMtLjc1LjE1Ni0xLjUxNi4yMzQtMi4yODEuMjM0LTIuMDQ3IDAtNC4wNjItLjU3OC01LjgxMi0xLjY0MS4wOTQtLjE1Ni42ODgtMS4wMTYuNjg4LTEuMTQxYS4yMDcuMjA3IDAgMCAwLS4yMDMtLjIwM2MtLjIxOSAwLS42ODguOTM4LS44MjggMS4xMjVhMTEuMjQgMTEuMjQgMCAwIDEtNC43MTktNi43NWwxLjA3OC0uMjM0Yy4xMjUtLjAzMS4xNTYtLjEyNS4xNTYtLjIzNHMtLjE1Ni0uMTcyLS4yNS0uMTU2bC0xLjA2Mi4yMzRhMTEuMjIyIDExLjIyMiAwIDAgMS0uMjE5LTIuMTcyYzAtMi4wOTQuNTk0LTQuMTU2IDEuNzAzLTUuOTIyLjE1Ni4wOTQuOTA2LjYwOSAxLjAzMS42MDkuMTA5IDAgLjIwMy0uMDc4LjIwMy0uMTg3IDAtLjIxOS0uODI4LS42NDEtMS4wMTYtLjc2NiAxLjU5NC0yLjMyOCA0LjAxNi00IDYuNzY2LTQuNjI1bC4yMzQgMS4wNDdjLjAzMS4xMjUuMTI1LjE1Ni4yMzQuMTU2cy4xNzItLjE1Ni4xNTYtLjI1bC0uMjM0LTEuMDMxYTExLjc0NSAxMS43NDUgMCAwIDEgMi4wOTQtLjIwMyAxMS4yIDExLjIgMCAwIDEgNS45MjIgMS43MDNjLS4xMDkuMTU2LS42MDkuODkxLS42MDkgMS4wMTYgMCAuMTA5LjA3OC4yMDMuMTg3LjIwMy4yMTkgMCAuNjQxLS44MTIuNzUtMWExMS4xNjUgMTEuMTY1IDAgMCAxIDQuNjA5IDYuNjcybC0uODc1LjE4N2MtLjE0MS4wMzEtLjE1Ni4xMjUtLjE1Ni4yNSAwIC4xMDkuMTU2LjE3Mi4yMzQuMTU2bC44OTEtLjIwM2MuMTQxLjcxOS4yMTkgMS40NTMuMjE5IDIuMTg3em0xLjMyOCAwYzAtNi45MDYtNS41OTQtMTIuNS0xMi41LTEyLjVTMS41IDcuMDk0IDEuNSAxNCA3LjA5NCAyNi41IDE0IDI2LjUgMjYuNSAyMC45MDYgMjYuNSAxNHptMS41IDBjMCA3LjczNC02LjI2NiAxNC0xNCAxNFMwIDIxLjczNCAwIDE0IDYuMjY2IDAgMTQgMHMxNCA2LjI2NiAxNCAxNHoiLz48L3N2Zz4K&quot;);background-size:20px;width:20px;height:24px}.bc-browsers .bc-head-icon-webview_android:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyOCIgYXJpYS1oaWRkZW49InRydWUiIHJvbGU9ImltZyI+PHBhdGggZD0iTTcuNzAzIDcuNTQ3YS42MS42MSAwIDAgMCAwLTEuMjE4Yy0uMzI4IDAtLjU5NC4yODEtLjU5NC42MDlzLjI2Ni42MDkuNTk0LjYwOXptNi41OTQgMGMuMzI4IDAgLjU5NC0uMjgxLjU5NC0uNjA5cy0uMjY2LS42MDktLjU5NC0uNjA5YS42MS42MSAwIDAgMCAwIDEuMjE4ek0xLjYwOSAxMC40MjJhMS42IDEuNiAwIDAgMSAxLjU5NCAxLjU5NHY2LjcxOWMwIC44OTEtLjcwMyAxLjYwOS0xLjU5NCAxLjYwOVMwIDE5LjYyNSAwIDE4LjczNXYtNi43MTljMC0uODc1LjcxOS0xLjU5NCAxLjYwOS0xLjU5NHptMTYuNTYzLjI5N3YxMC40MDZjMCAuOTUzLS43NjYgMS43MTktMS43MDMgMS43MTloLTEuMTcydjMuNTQ3YzAgLjg5MS0uNzE5IDEuNjA5LTEuNjA5IDEuNjA5cy0xLjYwOS0uNzE5LTEuNjA5LTEuNjA5di0zLjU0N0g5LjkyM3YzLjU0N2MwIC44OTEtLjcxOSAxLjYwOS0xLjYwOSAxLjYwOWExLjYwNCAxLjYwNCAwIDAgMS0xLjU5NC0xLjYwOWwtLjAxNi0zLjU0N0g1LjU0OGExLjcxNCAxLjcxNCAwIDAgMS0xLjcxOS0xLjcxOVYxMC43MTloMTQuMzQ0em0tMy42MjUtNi4zMjhjMi4xODggMS4xMjUgMy42NzIgMy4yODEgMy42NzIgNS43NjZIMy43NjZjMC0yLjQ4NCAxLjQ4NC00LjY0MSAzLjY4Ny01Ljc2Nkw2LjM0NCAyLjM0NGEuMjI4LjIyOCAwIDAgMSAuMDc4LS4zMTNjLjEwOS0uMDQ3LjI1LS4wMTYuMzEzLjA5NEw3Ljg2IDQuMTg4Yy45NTMtLjQyMiAyLjAxNi0uNjU2IDMuMTQxLS42NTZzMi4xODguMjM0IDMuMTQxLjY1NmwxLjEyNS0yLjA2M2MuMDYzLS4xMDkuMjAzLS4xNDEuMzEzLS4wOTRhLjIyOC4yMjggMCAwIDEgLjA3OC4zMTN6TTIyIDEyLjAxNnY2LjcxOWMwIC44OTEtLjcxOSAxLjYwOS0xLjYwOSAxLjYwOWExLjYwNCAxLjYwNCAwIDAgMS0xLjU5NC0xLjYwOXYtNi43MTlhMS41OSAxLjU5IDAgMCAxIDEuNTk0LTEuNTk0Yy44OTEgMCAxLjYwOS43MDMgMS42MDkgMS41OTR6Ii8+PC9zdmc+Cg==&quot;);background-size:18px;width:18px;height:22px;left:-23px}.bc-browsers .bc-head-icon-samsunginternet_android:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNTAiIGhlaWdodD0iMTUwIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIj48cGF0aCBkPSJNMTA0LjMgMTQ0LjFINDQuN2MtMjIuMSAwLTQwLjItMTguMS00MC4yLTQwLjJWNDQuNGMwLTIyLjEgMTguMS00MC4yIDQwLjItNDAuMmg1OS42YzIyLjEgMCA0MC4yIDE4LjEgNDAuMiA0MC4yVjEwNGMtLjEgMjIuMS0xOC4xIDQwLjEtNDAuMiA0MC4xeiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik05Ni44IDEwOC4xYy02LjUgNC4zLTE0LjEgNi42LTIxLjggNi42LTE1LjUgMC0yOS04LjktMzUuNS0yMi0zLjMtMS43LTYuMy0zLjUtOS01LjQgNS40IDE5LjUgMjMuMiAzMy44IDQ0LjUgMzMuOCAxMi42IDAgMjQtNS4xIDMyLjMtMTMuMy0zLjIuMy02LjguMy0xMC41LjN6TTM2LjIgODMuMmMtMi43LTEuNi01LjEtMy4zLTcuMi01LTgtNi4zLTEyLTEyLjktMTAuNS0xOC41czguNC05LjIgMTguMy0xMC42QzQ1LjEgMzYuOSA1OS4xIDI4LjkgNzUgMjguOWMyNC40IDAgNDQuNSAxOSA0NiA0My4xIDcuOSA2LjMgMTIgMTIuOSAxMC41IDE4LjVzLTguNCA5LjItMTguNSAxMC42Yy0yLjcuNC01LjYuNi04LjguN0M5NCAxMDIgODEuOCAxMDAuNCA2OSA5N2MtMTIuNy0zLjUtMjQuMS04LjQtMzIuOC0xMy44em03My4xIDExLjZjMy40LTUuOSA1LjMtMTIuNyA1LjMtMTkuNVY3NWMwLTIxLjktMTcuNy0zOS42LTM5LjYtMzkuNi0xNC41IDAtMjcuMyA3LjgtMzQuMiAxOS41LTMuNiA2LjEtNS41IDEzLTUuNSAyMC4xIDguMiA1LjUgMjAuNyAxMSAzNS4yIDE0LjkgMTQuOSA0IDI4LjggNS42IDM4LjggNC45em03LjktMS4zYzQtMS4yIDYuNS0zIDcuMi01LjUuNy0yLjYtLjYtNS41LTMuNi04LjZsLS4xLjZjLS40IDQuNy0xLjYgOS4zLTMuNSAxMy41ek0zMy4xIDU1LjdsLjMtLjdjLTQuNyAxLjEtNy43IDMuMS04LjQgNS44LS43IDIuNy44IDUuOSA0LjEgOS4yLjYtNSAxLjktOS44IDQtMTQuM3oiIGZpbGw9IiNmZmYiLz48L3N2Zz4K&quot;);background-size:20px;width:20px;height:24px}.bc-browsers .bc-head-icon-nodejs:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNTAgMTUwIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIj48cGF0aCBkPSJNNzkuMiAxMmMtMi40LTEuNC02LjMtMS40LTguNyAwTDIxLjggMzkuNWMtMi40IDEuNC00LjQgNC43LTQuNCA3LjV2NTUuN2MwIDIuOCAxLjkgNi4xIDQuMyA3LjVsNDguOCAyOC42YzIuNCAxLjQgNi4zIDEuNCA4LjYgMGw0OC4xLTI4LjNjMi40LTEuNCA0LjMtNC44IDQuMy03LjVWNDcuMWMwLTIuOC0yLTYuMS00LjMtNy41TDc5LjIgMTJ6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg==&quot;);background-size:20px;width:20px;height:24px}.bc-supports-yes{background-color:#e4f8e1}.bc-supports-no,.bc-supports-partial,.bc-supports-unknown,.bc-supports-yes,.bc-table .bc-history{color:#222}.bc-supports-no{background-color:#f8e1e1;background-image:linear-gradient(to bottom right, rgba(230,100,101,0.2) 0, rgba(230,100,101,0.2) 1px, transparent 1px, transparent 67px, rgba(230,100,101,0.2) 67px, rgba(230,100,101,0.2) 73px, transparent 73px, transparent 138px, rgba(230,100,101,0.2) 138px, rgba(230,100,101,0.2) 144px, transparent 144px),linear-gradient(to bottom left, rgba(230,100,101,0.2) 0, rgba(230,100,101,0.2) 1px, transparent 1px, transparent 67px, rgba(230,100,101,0.2) 67px, rgba(230,100,101,0.2) 73px, transparent 73px, transparent 138px, rgba(230,100,101,0.2) 138px, rgba(230,100,101,0.2) 144px, transparent 144px);background-size:100px 100px, 100px 100px;background-position:50% 50%, 50% 50%;background-repeat:no-repeat}.bc-supports-unknown{background-color:#eee}.bc-browser-name{display:none}.bc-table abbr{text-decoration:none}abbr[title]{cursor:help}.bc-table .bc-icons{position:relative;z-index:12;display:inline-block}.bc-table .bc-icons abbr{margin:0 2px}.bc-table button.bc-history-link{background-color:transparent;border-radius:0;border:none;box-shadow:none;color:#333;padding:0;position:absolute;bottom:0;right:-6px;z-index:11;display:block;margin-bottom:0;width:100%;height:11px;clear:both;text-align:center;font-size:12px;font-size:0.66667rem;border-top:1px solid rgba(34,34,34,0.3)}.bc-table button.bc-history-link i{position:relative;top:-4px}.bc-table button.bc-history-link:hover{background-color:#83d0f2 !important}.bc-table button.bc-history-link:focus{outline:#83d0f2 solid 3px;outline-offset:-3px}.active .bc-history-link{z-index:21}.active .bc-history-link,td[tabindex]:focus .bc-history-link,td[tabindex]:hover .bc-history-link{background-color:#222;border-top:1px solid #222}.bc-history-link-inverse{transform:scale(1, -1)}.bc-history dd,.bc-history dt{margin-top:30px}.bc-history dd+dd,.bc-history dl&gt;dt:first-child,.bc-history dl&gt;dt:first-child+dd{margin-top:0}.bc-history dt{float:left;clear:left;max-width:120px;margin-left:-140px;margin-right:10px}.bc-history dl{text-align:left;margin:20px;padding-left:350px;max-width:85%}.bc-history dd.padded-note{min-height:25px}.bc-history dd{min-height:1.2em;margin-bottom:0;padding-top:4px;padding-left:0;margin-left:10px;padding-bottom:10px;font-weight:400}.ic-footnote:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIj48cGF0aCBkPSJNMTYuMTggODguNjVsMjAuMDktMzIuNDJMMyA0My4wNWwzLjY0LTExIDM0LjkzIDkuNDkgMi41LTM3LjYxaDExLjg2bDIuNSAzNyAzNC45My04Ljg3IDMuNjQgMTEtMzMuMzEgMTMuMTcgMjAuMTMgMzIuNDJMNzQgOTUuODMgNTAuMzMgNjUuMzIgMjYgOTUuODN6Ii8+PC9zdmc+Cg==&quot;);background-size:10px;width:10px;height:10px}.ic-history:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiBpY29uLWNhcmV0LWRvd24iIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE2IiBoZWlnaHQ9IjI4IiB2aWV3Qm94PSIwIDAgMTYgMjgiPjxwYXRoIGQ9Ik0xNiAxMWEuOTkuOTkgMCAwIDEtLjI5Ny43MDNsLTcgN0M4LjUxNiAxOC44OSA4LjI2NSAxOSA4IDE5cy0uNTE2LS4xMDktLjcwMy0uMjk3bC03LTdBLjk5Ni45OTYgMCAwIDEgMCAxMWMwLS41NDcuNDUzLTEgMS0xaDE0Yy41NDcgMCAxIC40NTMgMSAxeiIvPjwvc3ZnPgo=&quot;);background-size:9px;width:9px;height:13px}.active.bc-supports-no .ic-history:before,td[tabindex].bc-supports-no:focus .ic-history:before,td[tabindex].bc-supports-no:hover .ic-history:before,.active.bc-supports-yes .ic-history:before,td[tabindex].bc-supports-yes:focus .ic-history:before,td[tabindex].bc-supports-yes:hover .ic-history:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyBzdHlsZT0iZmlsbDogI2Y4ZTFlMTsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE2IiBoZWlnaHQ9IjI4IiB2aWV3Qm94PSIwIDAgMTYgMjgiPjxwYXRoIGQ9Ik0xNiAxMWEuOTkuOTkgMCAwIDEtLjI5Ny43MDNsLTcgN0M4LjUxNiAxOC44OSA4LjI2NSAxOSA4IDE5cy0uNTE2LS4xMDktLjcwMy0uMjk3bC03LTdBLjk5Ni45OTYgMCAwIDEgMCAxMWMwLS41NDcuNDUzLTEgMS0xaDE0Yy41NDcgMCAxIC40NTMgMSAxeiIvPjwvc3ZnPg==&quot;)}.ic-deprecated:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5MTQuMjg2IDEwMjQiIGNsYXNzPSJpY29uIGljb24tdGh1bWJzLWRvd24iIGFyaWEtaGlkZGVuPSJ0cnVlIj48cGF0aCBjbGFzcz0icGF0aDAiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTE0Ni4yODYgMzI5LjE0M2MwIDIwLTE2LjU3MSAzNi41NzEtMzYuNTcxIDM2LjU3MS0yMC41NzEgMC0zNi41NzEtMTYuNTcxLTM2LjU3MS0zNi41NzEgMC0yMC41NzEgMTYtMzYuNTcxIDM2LjU3MS0zNi41NzEgMjAgMCAzNi41NzEgMTYgMzYuNTcxIDM2LjU3MXptOTEuNDI4IDI5Mi41NzFWMjU2YzAtMjAtMTYuNTcxLTM2LjU3MS0zNi41NzEtMzYuNTcxSDM2LjU3MkMxNi41NzIgMjE5LjQyOS4wMDEgMjM2IC4wMDEgMjU2djM2NS43MTRjMCAyMCAxNi41NzEgMzYuNTcxIDM2LjU3MSAzNi41NzFoMTY0LjU3MWMyMCAwIDM2LjU3MS0xNi41NzEgMzYuNTcxLTM2LjU3MXptNjQ1LjE0My04NS4xNDNjMTkuNDI5IDIxLjcxNCAzMS40MjkgNTQuODU3IDMxLjQyOSA4NS4xNDMtLjU3MSA1OS40MjktNTAuMjg2IDEwOS43MTQtMTA5LjcxNCAxMDkuNzE0SDY0Ni4yODZjNC41NzEgMTguMjg2IDEwLjI4NiAyNCAxNi41NzEgMzYuNTcxIDE0Ljg1NyAyOS43MTQgMzIgNjIuODU3IDMyIDEwOS43MTQgMCA0NCAwIDE0Ni4yODYtMTI4IDE0Ni4yODYtOS43MTQgMC0xOC44NTctNC0yNS43MTQtMTAuODU3LTI0LjU3MS0yNC0zMS40MjktNTkuNDI5LTM3LjcxNC05My4xNDMtNi44NTctMzMuMTQzLTEzLjE0My02Ny40MjktMzUuNDI5LTg5LjcxNC0xNy43MTQtMTcuNzE0LTM3LjE0My00Mi4yODYtNTcuNzE0LTY4LjU3MS0yNS4xNDMtMzMuMTQzLTgwLTEwMS4xNDMtMTAxLjE0My0xMDIuODU3LTE4Ljg1Ny0xLjcxNC0zNC44NTctMTcuNzE0LTM0Ljg1Ny0zNi41NzFWMjU2YzAtMjAgMTcuMTQzLTM2IDM2LjU3MS0zNi41NzEgMjAtLjU3MSA1NC4yODYtMTIuNTcxIDkwLjI4Ni0yNS4xNDMgNjEuNzE0LTIxLjE0MyAxMzguODU3LTQ4IDIyMC41NzEtNDhoNzMuNzE0YzUwLjI4Ni41NzEgODggMTUuNDI5IDExMi41NzEgNDQuNTcxIDIxLjcxNCAyNS43MTQgMzEuNDI5IDYwLjU3MSAyOCAxMDMuNDI5Qzg1MC4yODUgMzA4IDg2MS4xNDIgMzI2Ljg1NyA4NjYuODU2IDM0OGM2LjI4NiAyMi44NTcgNi4yODYgNDUuNzE0IDAgNjYuODU3IDE3LjE0MyAyMi44NTcgMjUuNzE0IDQ5LjcxNCAyNC41NzEgNzguMjg2IDAgOC0yLjI4NiAyNS4xNDMtOC41NzEgNDMuNDI5eiIvPjwvc3ZnPgo=&quot;);background-size:16px;width:16px;height:20px}.ic-non-standard:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiBpY29uLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOCIgaGVpZ2h0PSIyOCIgYXJpYS1oaWRkZW49InRydWUiPjxwYXRoIGQ9Ik0xNiAyMS40ODR2LTIuOTY5YS41MDguNTA4IDAgMCAwLS41LS41MTZoLTNjLS4yODEgMC0uNS4yMzQtLjUuNTE2djIuOTY5YzAgLjI4MS4yMTkuNTE2LjUuNTE2aDNjLjI4MSAwIC41LS4yMzQuNS0uNTE2em0tLjAzMS01Ljg0M2wuMjgxLTcuMTcyYS4zNzguMzc4IDAgMCAwLS4xNTYtLjI5N0MxNiA4LjA5NCAxNS44NiA4IDE1LjcxOSA4aC0zLjQzN2MtLjE0MSAwLS4yODEuMDk0LS4zNzUuMTcyLS4xMDkuMDc4LS4xNTYuMjM0LS4xNTYuMzI4bC4yNjYgNy4xNDFjMCAuMjAzLjIzNC4zNTkuNTMxLjM1OWgyLjg5MWMuMjgxIDAgLjUxNi0uMTU2LjUzMS0uMzU5ek0xNS43NSAxLjA0N2wxMiAyMmMuMzQ0LjYwOS4zMjggMS4zNTktLjAzMSAxLjk2OVMyNi43MDMgMjYgMjYgMjZIMmMtLjcwMyAwLTEuMzU5LS4zNzUtMS43MTktLjk4NHMtLjM3NS0xLjM1OS0uMDMxLTEuOTY5bDEyLTIyYTEuOTg4IDEuOTg4IDAgMCAxIDMuNSAweiIvPjwvc3ZnPgo=&quot;);background-size:17px;width:17px;height:20px}.ic-experimental:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiBpY29uLWZsYXNrIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyOCIgYXJpYS1oaWRkZW49InRydWUiPjxwYXRoIGQ9Ik0yMy44NTkgMjIuNjI1QzI1LjAzMSAyNC40ODQgMjQuMjAzIDI2IDIyIDI2SDRjLTIuMjAzIDAtMy4wMzEtMS41MTYtMS44NTktMy4zNzVMMTAgMTAuMjM0VjRIOWMtLjU0NyAwLTEtLjQ1My0xLTFzLjQ1My0xIDEtMWg4Yy41NDcgMCAxIC40NTMgMSAxcy0uNDUzIDEtMSAxaC0xdjYuMjM0ek0xMS42ODggMTEuMjk3TDcuNDM4IDE4aDExLjEyNWwtNC4yNS02LjcwMy0uMzEzLS40ODRWNGgtMnY2LjgxM3oiLz48L3N2Zz4K&quot;);background-size:16px;width:16px;height:20px}.ic-prefix:before{content:&quot;-x-&quot;;text-decoration:none;font-size:18px;font-size:1rem;line-height:1;font-family:sans-serif;font-style:normal}.ic-disabled:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOSIgaGVpZ2h0PSIyOCIgYXJpYS1oaWRkZW49InRydWUiIHJvbGU9ImltZyI+PHBhdGggZD0iTTUgNGMwIC43MTktLjM5MSAxLjM1OS0xIDEuNzE5VjI1LjVjMCAuMjY2LS4yMzQuNS0uNS41aC0xYS41MTQuNTE0IDAgMCAxLS41LS41VjUuNzE5Yy0uNjA5LS4zNTktMS0xLTEtMS43MTkgMC0xLjEwOS44OTEtMiAyLTJzMiAuODkxIDIgMnptMjMgMXYxMS45MjJjMCAuNTc4LS4zNTkuNzk3LS44MTIgMS4wMzEtMS43NjYuOTUzLTMuNzE5IDEuODEzLTUuNzY2IDEuODEzLTIuODc1IDAtNC4yNS0yLjE4OC03LjY1Ni0yLjE4OC0yLjQ4NCAwLTUuMDk0IDEuMTI1LTcuMjUgMi4yODFBMS4wMjMgMS4wMjMgMCAwIDEgNiAyMGMtLjU0NyAwLTEtLjQ1My0xLTFWNy40MDZjMC0uMzc1LjE4Ny0uNjQxLjQ4NC0uODU5LjM3NS0uMjUuODI4LS40NjkgMS4yMzQtLjY3MkM4LjY4NyA0Ljg3NSAxMS4wNzcgNCAxMy4yOTYgNGMyLjQ1MyAwIDQuMzc1LjgxMiA2LjU0NyAxLjgyOC40MzguMjE5Ljg5MS4yOTcgMS4zNzUuMjk3QzIzLjY3MSA2LjEyNSAyNi4zMTIgNCAyNi45OTkgNGMuNTQ3IDAgMSAuNDUzIDEgMXoiLz48L3N2Zz4K&quot;);background-size:24px;width:24px;height:24px}.ic-altname:before{background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIyOCIgYXJpYS1oaWRkZW49InRydWUiIHJvbD0iaW1nIj48cGF0aCBkPSJNNC41IDIzYTEuNSAxLjUgMCAxIDAtMy4wMDEuMDAxQTEuNSAxLjUgMCAwIDAgNC41IDIzem0wLTE4YTEuNSAxLjUgMCAxIDAtMy4wMDEuMDAxQTEuNSAxLjUgMCAwIDAgNC41IDV6bTEwIDJhMS41IDEuNSAwIDEgMC0zLjAwMS4wMDFBMS41IDEuNSAwIDAgMCAxNC41IDd6TTE2IDdhMy4wMDIgMy4wMDIgMCAwIDEtMS41IDIuNTk0Yy0uMDQ3IDUuNjQxLTQuMDQ3IDYuODkxLTYuNzAzIDcuNzM0QzUuMzEzIDE4LjEwOSA0LjUgMTguNDg0IDQuNSAyMHYuNDA2QTMgMyAwIDAgMSA2IDIzYTMuMDAxIDMuMDAxIDAgMCAxLTYgMGMwLTEuMTA5LjYwOS0yLjA3OCAxLjUtMi41OTRWNy41OTRBMyAzIDAgMCAxIDAgNWEzLjAwMSAzLjAwMSAwIDAgMSA2IDAgMy4wMDIgMy4wMDIgMCAwIDEtMS41IDIuNTk0djcuNzY2Yy43OTctLjM5MSAxLjY0MS0uNjU2IDIuNDA2LS44OTEgMi45MDYtLjkyMiA0LjU2Mi0xLjYwOSA0LjU5NC00Ljg3NUEzIDMgMCAwIDEgMTAgN2EzLjAwMSAzLjAwMSAwIDAgMSA2IDB6Ii8+PC9zdmc+Cg==&quot;);background-size:12px;width:12px;height:22px}.offscreen,.only-icon span{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.bc-supports{display:inline-block;position:relative;border:1px solid #222;padding:3px;min-width:120px;text-align:center}.bc-notes{display:none}.bc-legend{margin-bottom:20px;margin-top:20px}.bc-legend dl{display:grid;grid-template-columns:30px 1fr}.bc-legend dt{display:block;margin:0 0 5px 0}.bc-legend .bc-supports{display:inline-block;min-width:30px;margin-bottom:25px}.bc-legend dd{display:block;margin:0 10px 5px 10px;padding-left:20px}.bc-legend .bc-supports abbr:after{content:&quot;\00a0&quot;}@media (min-width: 63.9385em){.bc-icons{float:right}}@media (max-width: 47.9375em){.bc-table thead{display:none}.bc-table tbody th{width:100%;max-width:100%;display:block;border-right:0;border-bottom:1px solid #222;padding-top:20px;padding-bottom:0}.bc-table tbody td{position:relative;min-width:100%;width:100%;max-width:100%;display:block;box-sizing:border-box;box-shadow:inset 220px 0 0 0 #eaeff2;border-top:1px solid #222;border-left:0;padding-left:250px;padding-right:10px;text-align:left}.bc-table-web td:nth-child(8),.bc-table-web th:nth-child(8){border-top:2px solid #222;border-left:none}.bc-table tbody th{width:100%;max-width:100%;display:block;border-right:0;border-bottom:1px solid #222;padding-top:20px;padding-bottom:0}.bc-table tbody td[tabindex]{padding-bottom:20px}.bc-browser-name{display:block;position:absolute;top:8px;left:0;padding-left:6px;height:25px;width:220px;color:#333;white-space:nowrap}.bc-history-link{width:calc(100% - 219px);height:20px;margin-top:-20px;font-size:16px;font-size:0.88889rem}.bc-history{display:none}.bc-table .bc-history{padding-left:0}.bc-history dt{margin-top:10px;margin-left:0;margin-bottom:10px}.bc-history dd{clear:left;min-height:0}td.bc-supports-no{background-position:calc(50% + 110px) 50%,calc(50% + 110px) 50%}.bc-notes{display:block;margin-top:10px}}@media (min-width: 47.9385em){.bc-legend dl{grid-template-columns:30px 1fr 30px 1fr}}          &lt;/style&gt;&lt;style&gt;             body {               font-family: Arial;             }             .bc-table {               background-color: white;             }          &lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div class=&quot;bc-data&quot; id=&quot;bcd:api.AudioWorklet&quot;&gt;&lt;a class=&quot;bc-github-link&quot; href=&quot;https://github.com/mdn/browser-compat-data&quot;&gt;Update compatibility data on GitHub&lt;/a&gt;&lt;table class=&quot;bc-table bc-table-web&quot;&gt;&lt;thead&gt;&lt;tr class=&quot;bc-platforms&quot;&gt;&lt;td&gt;&lt;/td&gt;&lt;th colspan=&quot;6&quot; class=&quot;bc-platform-desktop&quot;&gt;&lt;span&gt;Desktop&lt;/span&gt;&lt;/th&gt;&lt;th colspan=&quot;6&quot; class=&quot;bc-platform-mobile&quot;&gt;&lt;span&gt;Mobile&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;tr class=&quot;bc-browsers&quot;&gt;&lt;td&gt;&lt;/td&gt;&lt;th class=&quot;bc-browser-chrome&quot;&gt;&lt;span class=&quot;bc-head-txt-label bc-head-icon-chrome&quot;&gt;Chrome&lt;/span&gt;&lt;/th&gt;&lt;th class=&quot;bc-browser-edge&quot;&gt;&lt;span class=&quot;bc-head-txt-label bc-head-icon-edge&quot;&gt;Edge&lt;/span&gt;&lt;/th&gt;&lt;th class=&quot;bc-browser-firefox&quot;&gt;&lt;span class=&quot;bc-head-txt-label bc-head-icon-firefox&quot;&gt;Firefox&lt;/span&gt;&lt;/th&gt;&lt;th class=&quot;bc-browser-ie&quot;&gt;&lt;span class=&quot;bc-head-txt-label bc-head-icon-ie&quot;&gt;Internet Explorer&lt;/span&gt;&lt;/th&gt;&lt;th class=&quot;bc-browser-opera&quot;&gt;&lt;span class=&quot;bc-head-txt-label bc-head-icon-opera&quot;&gt;Opera&lt;/span&gt;&lt;/th&gt;&lt;th class=&quot;bc-browser-safari&quot;&gt;&lt;span class=&quot;bc-head-txt-label bc-head-icon-safari&quot;&gt;Safari&lt;/span&gt;&lt;/th&gt;&lt;th class=&quot;bc-browser-webview_android&quot;&gt;&lt;span class=&quot;bc-head-txt-label bc-head-icon-webview_android&quot;&gt;Android webview&lt;/span&gt;&lt;/th&gt;&lt;th class=&quot;bc-browser-chrome_android&quot;&gt;&lt;span class=&quot;bc-head-txt-label bc-head-icon-chrome_android&quot;&gt;Chrome for Android&lt;/span&gt;&lt;/th&gt;&lt;th class=&quot;bc-browser-firefox_android&quot;&gt;&lt;span class=&quot;bc-head-txt-label bc-head-icon-firefox_android&quot;&gt;Firefox for Android&lt;/span&gt;&lt;/th&gt;&lt;th class=&quot;bc-browser-opera_android&quot;&gt;&lt;span class=&quot;bc-head-txt-label bc-head-icon-opera_android&quot;&gt;Opera for Android&lt;/span&gt;&lt;/th&gt;&lt;th class=&quot;bc-browser-safari_ios&quot;&gt;&lt;span class=&quot;bc-head-txt-label bc-head-icon-safari_ios&quot;&gt;Safari on iOS&lt;/span&gt;&lt;/th&gt;&lt;th class=&quot;bc-browser-samsunginternet_android&quot;&gt;&lt;span class=&quot;bc-head-txt-label bc-head-icon-samsunginternet_android&quot;&gt;Samsung Internet&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;th scope=&quot;row&quot;&gt;&lt;a href=&quot;/en-US/docs/Web/API/AudioWorklet&quot;&gt;&lt;code&gt;AudioWorklet&lt;/code&gt;&lt;/a&gt;&lt;/th&gt;&lt;td class=&quot;bc-supports-yes bc-browser-chrome&quot;&gt;&lt;span class=&quot;bc-browser-name&quot;&gt;Chrome&lt;/span&gt;&lt;abbr title=&quot;Full support&quot;                class=&quot;bc-level-yes only-icon&quot;&gt;                &lt;span&gt;Full support&lt;/span&gt;              &lt;/abbr&gt;              66&lt;/td&gt;&lt;td class=&quot;bc-supports-yes bc-browser-edge&quot;&gt;&lt;span class=&quot;bc-browser-name&quot;&gt;Edge&lt;/span&gt;&lt;abbr title=&quot;Full support&quot;                class=&quot;bc-level-yes only-icon&quot;&gt;                &lt;span&gt;Full support&lt;/span&gt;              &lt;/abbr&gt;              79&lt;/td&gt;&lt;td class=&quot;bc-supports-yes bc-browser-firefox&quot;&gt;&lt;span class=&quot;bc-browser-name&quot;&gt;Firefox&lt;/span&gt;&lt;abbr title=&quot;Full support&quot;                class=&quot;bc-level-yes only-icon&quot;&gt;                &lt;span&gt;Full support&lt;/span&gt;              &lt;/abbr&gt;              76&lt;/td&gt;&lt;td class=&quot;bc-supports-no bc-browser-ie&quot;&gt;&lt;span class=&quot;bc-browser-name&quot;&gt;IE&lt;/span&gt;&lt;abbr title=&quot;No support&quot;                class=&quot;bc-level-no only-icon&quot;&gt;                &lt;span&gt;No support&lt;/span&gt;              &lt;/abbr&gt;              No&lt;/td&gt;&lt;td class=&quot;bc-supports-yes bc-browser-opera&quot;&gt;&lt;span class=&quot;bc-browser-name&quot;&gt;Opera&lt;/span&gt;&lt;abbr title=&quot;Full support&quot;                class=&quot;bc-level-yes only-icon&quot;&gt;                &lt;span&gt;Full support&lt;/span&gt;              &lt;/abbr&gt;              Yes&lt;/td&gt;&lt;td class=&quot;bc-supports-no bc-browser-safari&quot;&gt;&lt;span class=&quot;bc-browser-name&quot;&gt;Safari&lt;/span&gt;&lt;abbr title=&quot;No support&quot;                class=&quot;bc-level-no only-icon&quot;&gt;                &lt;span&gt;No support&lt;/span&gt;              &lt;/abbr&gt;              No&lt;/td&gt;&lt;td class=&quot;bc-supports-yes bc-browser-webview_android&quot;&gt;&lt;span class=&quot;bc-browser-name&quot;&gt;WebView Android&lt;/span&gt;&lt;abbr title=&quot;Full support&quot;                class=&quot;bc-level-yes only-icon&quot;&gt;                &lt;span&gt;Full support&lt;/span&gt;              &lt;/abbr&gt;              66&lt;/td&gt;&lt;td class=&quot;bc-supports-yes bc-browser-chrome_android&quot;&gt;&lt;span class=&quot;bc-browser-name&quot;&gt;Chrome Android&lt;/span&gt;&lt;abbr title=&quot;Full support&quot;                class=&quot;bc-level-yes only-icon&quot;&gt;                &lt;span&gt;Full support&lt;/span&gt;              &lt;/abbr&gt;              66&lt;/td&gt;&lt;td class=&quot;bc-supports-yes bc-browser-firefox_android&quot;&gt;&lt;span class=&quot;bc-browser-name&quot;&gt;Firefox Android&lt;/span&gt;&lt;abbr title=&quot;Full support&quot;                class=&quot;bc-level-yes only-icon&quot;&gt;                &lt;span&gt;Full support&lt;/span&gt;              &lt;/abbr&gt;              79&lt;/td&gt;&lt;td class=&quot;bc-supports-yes bc-browser-opera_android&quot;&gt;&lt;span class=&quot;bc-browser-name&quot;&gt;Opera Android&lt;/span&gt;&lt;abbr title=&quot;Full support&quot;                class=&quot;bc-level-yes only-icon&quot;&gt;                &lt;span&gt;Full support&lt;/span&gt;              &lt;/abbr&gt;              Yes&lt;/td&gt;&lt;td class=&quot;bc-supports-no bc-browser-safari_ios&quot;&gt;&lt;span class=&quot;bc-browser-name&quot;&gt;Safari iOS&lt;/span&gt;&lt;abbr title=&quot;No support&quot;                class=&quot;bc-level-no only-icon&quot;&gt;                &lt;span&gt;No support&lt;/span&gt;              &lt;/abbr&gt;              No&lt;/td&gt;&lt;td class=&quot;bc-supports-yes bc-browser-samsunginternet_android&quot;&gt;&lt;span class=&quot;bc-browser-name&quot;&gt;Samsung Internet Android&lt;/span&gt;&lt;abbr title=&quot;Full support&quot;                class=&quot;bc-level-yes only-icon&quot;&gt;                &lt;span&gt;Full support&lt;/span&gt;              &lt;/abbr&gt;              9.0&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;section class=&quot;bc-legend&quot;&gt;&lt;h3 class=&quot;offscreen&quot;&gt;Legend&lt;/h3&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;bc-supports-yes bc-supports&quot;&gt;                &lt;abbr title=&quot;Full support&quot;                 class=&quot;bc-level bc-level-yes only-icon&quot;&gt;                 &lt;span&gt;Full support&lt;/span&gt;                 &amp;nbsp;                &lt;/abbr&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;Full support&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;bc-supports-no bc-supports&quot;&gt;                &lt;abbr title=&quot;No support&quot;                 class=&quot;bc-level bc-level-no only-icon&quot;&gt;                 &lt;span&gt;No support&lt;/span&gt;                 &amp;nbsp;                &lt;/abbr&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;No support&lt;/dd&gt;&lt;/dl&gt;&lt;/section&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;"></iframe>          <p>An important detail to consider is that, at the time of writing, the <code>AudioWorklet</code> API is, sadly, only supported by a handful of browsers. A <a href="https://github.com/GoogleChromeLabs/audioworklet-polyfill">polyfill</a> is available. As its master branch and npm release were buggy though, I had to submit a <a href="https://github.com/GoogleChromeLabs/audioworklet-polyfill/pull/21">PR</a> first before being able to use it. Thanks, Google Chrome team.</p><p>Eventually, I got everything working cross-browser and was able to move on to more exciting things!</p><h3 id="the-math-of-audio-generation">The Math of Audio Generation</h3><p>One of the most daunting tasks of the project was having to deal with the math to generate audio. After all, the last time I had worked with frequencies was back in high school physics class and, more recently, in some computer science lectures. In all honesty, though, I had to start from scratch as I had forgotten almost everything! So for this section, I&apos;ll establish a particular formula in great detail as creating it was necessary to come up with a functioning product.</p><p>I began by <a href="https://hackmd.io/fR86Sw1nSFGdeFmgirt7qw#Math">playing around</a> with sine waves in jsbin.com and quickly realized that I had to go back even further, by, for example, looking up the definition of a frequency and by researching the period length of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sin(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>. Spoiler: It&apos;s <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>&#x3C0;</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C0;</span></span></span></span>.</p><iframe src="https://www.desmos.com/calculator/pi8zdfqkbp?embed" style="border:1px solid #ccc" frameborder="0"></iframe><p>The first <em>actual</em> mathematical problem I encountered was when I tried to render a tone for a given MIDI key dynamically. MIDI keys are tuned by assigning each note to an ascending integer. This integer can then be run through a formula to receive the respective frequency in Hertz. Notes exist as frequency values for waveforms. The MIDI formula I found defined:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mn>2</mn><mfrac><mrow><mi>n</mi><mo>&#x2212;</mo><mn>69</mn></mrow><mn>12</mn></mfrac></msup><mo>&#xD7;</mo><mn>440</mn><mtext>&#x2009;</mtext><mtext>Hz</mtext><mtext>&#x2009;</mtext></mrow><annotation encoding="application/x-tex">f(n) = 2^{\frac{n-69}{12}} \times 440 \,\text{Hz}\,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.08735em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0040200000000001em;"><span style="top:-3.4130000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142857em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">&#x2212;</span><span class="mord mtight">6</span><span class="mord mtight">9</span></span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#xD7;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord">4</span><span class="mord">0</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord">Hz</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span></span></span></span></span></p><p>&quot;So can there be a formula to produce samples given a MIDI key number?&quot;, I asked myself. And even though I was a bit overwhelmed after my first mathematical research, I was able to come up with something useful. Given a sample rate <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>&#x3C3;</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C3;</span></span></span></span> and a <a href="https://en.wikipedia.org/wiki/A440_(pitch_standard)">440 Hertz pitch</a>, there&apos;s a function <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span> for approximating a sine wave for an <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>n</mi><mrow><mi>t</mi><mi>h</mi></mrow></msup></mrow><annotation encoding="application/x-tex">n^{th}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">h</span></span></span></span></span></span></span></span></span></span></span></span> MIDI key at a time interval <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>t</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">t_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mfrac><mrow><mn>2</mn><mi>&#x3C0;</mi><msub><mi>t</mi><mi>n</mi></msub><mo>&#xD7;</mo><msup><mn>2</mn><mfrac><mrow><mi>n</mi><mo>&#x2212;</mo><mn>69</mn></mrow><mn>12</mn></mfrac></msup><mo>&#xD7;</mo><mn>440</mn></mrow><mi>&#x3C3;</mi></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">s(t_n) = sin(\frac{2\pi t_n \times 2^{\frac{n - 69}{12}} \times 440}{\sigma})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.31702em;vertical-align:-0.686em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.63102em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C3;</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C0;</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#xD7;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9540200000000001em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142857em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">&#x2212;</span><span class="mord mtight">6</span><span class="mord mtight">9</span></span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#xD7;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">4</span><span class="mord">4</span><span class="mord">0</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span></p><p>&#x1F631; It looks complicated! But let&apos;s take a closer look to see whether we can simplify it. First off, I think it&apos;s important to know the intention behind designing this function. As I said, it&apos;s purpose is to generate sample values given a <a href="https://en.wikipedia.org/wiki/MIDI">MIDI</a> key number. We just learned that there&apos;s a formula to generate a frequency value from a MIDI key index. And in fact, we can see that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span> is contained in the divisor of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>.</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mfrac><mrow><mn>2</mn><mi>&#x3C0;</mi><msub><mi>t</mi><mi>n</mi></msub><mo>&#xD7;</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><mi>&#x3C3;</mi></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">s(t_n) = sin(\frac{2\pi t_n \times f(n)}{\sigma})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C3;</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C0;</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#xD7;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span></p><p>But how can we render a sine wave with a specific frequency? Well, we already know that the length of one <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sin(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span> period is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>&#x3C0;</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C0;</span></span></span></span>. From math class, we might also remember that we can stretch and compress the period of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sin(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span> by multiplying <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> by a factor <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>&#x3B3;</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">&#x3B3;</span></span></span></span>, so <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>&#x3B3;</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g(x) = sin(\gamma x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05556em;">&#x3B3;</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>. Meaning, that we can define the period length <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span> of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi></mrow><annotation encoding="application/x-tex">g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span></span></span> by finding the relation between <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>&#x3B3;</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">&#x3B3;</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>&#x3C0;</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C0;</span></span></span></span>:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mo>=</mo><mfrac><mrow><mn>2</mn><mi>&#x3C0;</mi></mrow><mrow><mi mathvariant="normal">&#x2223;</mi><mi>&#x3B3;</mi><mi mathvariant="normal">&#x2223;</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">p = \frac{2\pi}{| \gamma |}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.25744em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">&#x2223;</span><span class="mord mathdefault" style="margin-right:0.05556em;">&#x3B3;</span><span class="mord">&#x2223;</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C0;</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>Knowing this relation already gives us some information on how to produce several samples for a sine wave with a given frequency. Let&apos;s say we wanted to produce a 1 Hertz sine wave at a sample rate of 48 kHz for 1 second<sup id="a2"><a href="#f2">2</a></sup>. Well, then now we&apos;ll somehow have to generate 48000 samples from <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>&#x3B3;</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sin(\gamma x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05556em;">&#x3B3;</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>.</p><figure><img src="/assets/images/chunked-sinus-inverted.png" alt><figcaption><em>A visual example of chunking a sinus function into tiny sampling-rate-sized bits.</em></figcaption></figure><p>Two approaches come to mind: Either stretch the period length of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi></mrow><annotation encoding="application/x-tex">g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span></span></span> so that we can simply input integers between <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>48000</mn></mrow><annotation encoding="application/x-tex">48000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord">8</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span> <em>or</em> shrink <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> relatively such that when we&apos;re closing in on <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>48000</mn></mrow><annotation encoding="application/x-tex">48000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord">8</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span> samples generated when we reach <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>=</mo><mn>2</mn><mi>&#x3C0;</mi></mrow><annotation encoding="application/x-tex">x = 2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C0;</span></span></span></span> on the x-axis.</p><p>As we&apos;ve already defined our period length formula <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span>, let&apos;s go for the former approach. Meaning that if we want our period length to be <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mo>=</mo><mn>48000</mn></mrow><annotation encoding="application/x-tex">p = 48000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord">8</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span> to use ascending integers as input for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>, we can shuffle <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mo>=</mo><mfrac><mrow><mn>2</mn><mi>&#x3C0;</mi></mrow><mrow><mi mathvariant="normal">&#x2223;</mi><mi>&#x3B3;</mi><mi mathvariant="normal">&#x2223;</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">p = \frac{2\pi}{| \gamma |}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.365108em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">&#x2223;</span><span class="mord mathdefault mtight" style="margin-right:0.05556em;">&#x3B3;</span><span class="mord mtight">&#x2223;</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">&#x3C0;</span></span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> to solve for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>&#x3B3;</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">&#x3B3;</span></span></span></span>:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>&#x3B3;</mi><mo>=</mo><mfrac><mrow><mn>2</mn><mi>&#x3C0;</mi></mrow><mi>p</mi></mfrac><mo>=</mo><mfrac><mrow><mn>2</mn><mi>&#x3C0;</mi></mrow><mn>48000</mn></mfrac><mo>=</mo><mfrac><mi>&#x3C0;</mi><mn>24000</mn></mfrac></mrow><annotation encoding="application/x-tex">\gamma = \frac{2\pi}{p} = \frac{2\pi}{48000} = \frac{\pi}{24000}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">&#x3B3;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.20188em;vertical-align:-0.8804400000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">p</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C0;</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span><span class="mord">8</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C0;</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.7935600000000003em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord">4</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C0;</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>Great! Remember, we said earlier that the period of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sin(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span> could be scaled using the factor <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>&#x3B3;</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">&#x3B3;</span></span></span></span>. That means we can now define a function <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi></mrow><annotation encoding="application/x-tex">g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span></span></span> to generate samples:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>g</mi><mo>:</mo><mspace width="1em"></mspace></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi>&#x3C3;</mi><mo stretchy="false">]</mo><mo>&#x2192;</mo><mi mathvariant="double-struck">N</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>x</mi><mo>&#x21A6;</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>&#x3B3;</mi><mi>x</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}g: \quad&amp; [0, \sigma] \to \N\\&amp; x \mapsto sin(\gamma x)\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0000000000000004em;vertical-align:-1.2500000000000002em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:1em;"></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:1.2500000000000002em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C3;</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&#x2192;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathbb">N</span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&#x21A6;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05556em;">&#x3B3;</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:1.2500000000000002em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>where we can replace <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>&#x3B3;</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sin(\gamma x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05556em;">&#x3B3;</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span> accordingly to introduce the sample rate <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>&#x3C3;</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C3;</span></span></span></span> (we just renamed <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span>) as a factor:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msup><mi>g</mi><mo mathvariant="normal">&#x2032;</mo></msup><mo>:</mo><mspace width="1em"></mspace></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi>&#x3C3;</mi><mo stretchy="false">]</mo><mo>&#x2192;</mo><mi mathvariant="double-struck">N</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>x</mi><mo>&#x21A6;</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mfrac><mrow><mn>2</mn><mi>&#x3C0;</mi><mi>x</mi></mrow><mi>&#x3C3;</mi></mfrac><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}g&apos;: \quad&amp; [0, \sigma] \to \N\\&amp; x \mapsto sin(\frac{2\pi x}{\sigma})\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.8074399999999997em;vertical-align:-1.6537199999999999em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.15372em;"><span style="top:-4.63516em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">&#x2032;</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:1em;"></span></span></span><span style="top:-2.6537200000000003em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:1.6537199999999999em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.15372em;"><span style="top:-4.63516em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"><span class="mord"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C3;</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&#x2192;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathbb">N</span></span></span></span><span style="top:-2.6537200000000003em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"><span class="mord"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&#x21A6;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C3;</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C0;</span><span class="mord mathdefault">x</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:1.6537199999999999em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>Generating an arbitrary frequency is now possible too! Say we wanted our sine wave to cycle 10 times per second more, we&apos;d simply have to adjust our period length by a factor of ten <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>&#x3B3;</mi><mo>=</mo><mfrac><mrow><mn>2</mn><mi>&#x3C0;</mi><mo>&#xD7;</mo><mn>10</mn></mrow><mn>48000</mn></mfrac></mrow><annotation encoding="application/x-tex">\gamma = \frac{2\pi \times 10}{48000}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">&#x3B3;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mtight">8</span><span class="mord mtight">0</span><span class="mord mtight">0</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">&#x3C0;</span><span class="mbin mtight">&#xD7;</span><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> to receive a frequency at 10 Hertz.</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>g</mi><mrow><mo mathvariant="normal">&#x2032;</mo><mo mathvariant="normal">&#x2032;</mo></mrow></msup><mo stretchy="false">(</mo><msub><mi>t</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mfrac><mrow><mn>2</mn><mi>&#x3C0;</mi><msub><mi>t</mi><mi>n</mi></msub><mo>&#xD7;</mo><mn>10</mn></mrow><mi>&#x3C3;</mi></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g&apos;&apos;(t_n) = sin(\frac{2\pi t_n \times 10}{\sigma})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">&#x2032;</span><span class="mord mtight">&#x2032;</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C3;</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C0;</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#xD7;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span></p><p>We can just replace this factor by our MIDI-key-to-frequency function <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span>:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>g</mi><mrow><mo mathvariant="normal">&#x2032;</mo><mo mathvariant="normal">&#x2032;</mo><mo mathvariant="normal">&#x2032;</mo></mrow></msup><mo stretchy="false">(</mo><msub><mi>t</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mfrac><mrow><mn>2</mn><mi>&#x3C0;</mi><msub><mi>t</mi><mi>n</mi></msub><mo>&#xD7;</mo><msup><mn>2</mn><mfrac><mrow><mi>n</mi><mo>&#x2212;</mo><mn>69</mn></mrow><mn>12</mn></mfrac></msup><mo>&#xD7;</mo><mn>440</mn></mrow><mi>&#x3C3;</mi></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g&apos;&apos;&apos;(t_n) = sin(\frac{2\pi t_n \times 2^{\frac{n - 69}{12}} \times 440}{\sigma})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">&#x2032;</span><span class="mord mtight">&#x2032;</span><span class="mord mtight">&#x2032;</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.31702em;vertical-align:-0.686em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.63102em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C3;</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C0;</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#xD7;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9540200000000001em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142857em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">&#x2212;</span><span class="mord mtight">6</span><span class="mord mtight">9</span></span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#xD7;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">4</span><span class="mord">4</span><span class="mord">0</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span></p><p>Et voila, we just created a function that can produce samples at an arbitrary sample rate <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>&#x3C3;</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">&#x3C3;</span></span></span></span> from a MIDI key number <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>!</p><p>After creating this first formula, I had passed the local mathematical-insecurity hump, and proudly ventured ahead, trying to solve more elaborate problems!</p><h3 id="working-with-webassembly-and-c">Working with WebAssembly and C++</h3><p>Finally, I feel like I need to say a few things in this post about WebAssembly and C++ too. It turns out, that was the most natural part! Yes, being a JavaScript developer, C++ looked foreign at first, and I was a bit scared of pointers, and the raw-ness C++ radiated. But, overall, it wasn&apos;t entirely new territory for me as I already understood many of its concepts from previous projects (e.g., working with the shell or Ethereum Solidity). To kickstart development, I bought &quot;Accelerated C++&quot; by Andrew Koenig and Barbara E. Moo. I read parts of it but then dove fully into coding. The book is excellent. I can recommend it!</p><p>The same goes for emscripten and WebAssembly. There are a few gotchas, and I&apos;m writing about one particular in the Appendix of this post. Overall, WebAssembly&apos;s tooling is already surprisingly usable and easily integrated into a standard front end build pipeline.</p><p>I had initially decided on C++ and WASM for the performance boost. Now, I take much more joy out being able to separate my code base by concerns nicely. Writing all audio code in C++ and all user interface code in JavaScript led to a loose coupling and nice modularization. I noticed that I not only wrote a fully-fledged audio library in C++ through this but also that it&apos;s portable to anywhere WebAssembly runs! That&apos;s super cool!</p><h2 id="lessons-learned">Lessons Learned</h2><p>WASM Synth turned out to be a great learning experience. Working as a developer in the same field for many years, it&apos;s sometimes easy to forget how amazing the brain reacts to learning new things. In November, after having worked on smart contracts and decentralized apps for more than a year, I wasn&apos;t much confident anymore in cutting my teeth at math. I felt like I stood no chance in succeeding in writing a program outputting audio. But spending some time doing it, I noticed once again that, like most human-made things, they&apos;re limited in their complexity and that enough time-allocation and intrinsic motivation help immensely permeating them.</p><p>The math involved, parts of which I outlined in this post, really put me out of my comfort zone. But finally, spending time working towards a practical solution helped me fill in the gaps in my knowledge. In the future, I&apos;d like to make an even more conscious effort involving more of it in my daily coding!</p><p>Lastly, the thesis that many concepts can be mastered playfully by reverse engineering their core problems once again proved to be right, but probably not unchallenged for too long as I&apos;m looking for new projects putting me out of my comfort zone (hire me<sup id="a3"><a href="#f3">3</a></sup>).</p><h2 id="resources">Resources</h2><ul><li>WebAssembly<ul><li><a href="https://emscripten.org">emscripten: A toolchain to compile C++ to WASM</a></li><li><a href="https://medium.com/@tdeniffel/pragmatic-compiling-from-c-to-webassembly-a-guide-a496cc5954b8">Step by step guide on how to use emscripten</a></li><li><a href="https://marcoselvatici.github.io/WASM_tutorial/">Tutorial on how to manage memory in WebAssembly</a></li><li><a href="https://gist.github.com/automata/5832104">Example on passing a <code>Float32Array</code> back and forth between JS and C++</a></li><li><a href="https://www.leaningtech.com/cheerp/">Emscripten alternative: cheerp</a></li><li><a href="https://github.com/charto/nbind">Embind alternative: nbind</a></li><li><a href="https://emscripten.org/docs/compiling/Travis.html">Continuous Deployment with emscripten on Travis CI</a></li></ul></li><li>Human-Audio Interaction<ul><li><a href="https://www.audiocheck.net/soundtests_nonlinear.php">The non-linearities of the Human Ear</a></li><li><a href="https://alemangui.github.io/blog//2015/12/26/ramp-to-value.html">Explanation on why we hear a click when audio suddenly stops</a></li></ul></li><li>Audio Engineering:<ul><li><a href="https://en.wikipedia.org/wiki/Piano_key_frequencies">Piano Key Frequencies</a></li><li><a href="https://www.logicprohelp.com/forum/viewtopic.php?t=79553">Nice forum post with links to audio engineering resources</a></li><li><a href="https://www.dsprelated.com">Cool website for DSP nerds</a></li><li><a href="https://www.reddit.com/r/synthesizers/comments/544gfd/lets_say_i_want_to_design_and_build_synths_as_a/">Career advice on how to become an audio engineer</a></li><li><a href="https://issuu.com/petergoldsborough/docs/thesis">Thesis of someone that also built a synth in C++</a></li><li><a href="https://web.eecs.umich.edu/~fessler/course/100/l/l10-synth.pdf">Advanced audio engineering theory slides</a></li><li><a href="https://www.midi.org/specifications/item/table-1-summary-of-midi-message">MIDI protocol specification</a></li><li><a href="http://www.personal.kent.edu/~sbirch/Music_Production/MP-II/MIDI/midi_protocol.htm">Another MIDI protocol specification</a></li><li><a href="https://stackoverflow.com/questions/43544357/how-to-connect-web-midi-api-to-native-application-like-ableton-live">Web MIDI and Ableton Live API interaction</a></li><li><a href="https://codepen.io/peteranglea/pen/KZrGxo?editors=1111">Demo of using the Web MIDI API in the browser</a></li><li><a href="http://www.martin-finke.de/blog/">Most useful blog of all! Person that builds software synth in C++!</a></li><li><a href="http://teropa.info/blog/2016/08/04/sine-waves.html">Step by step tutorial on how to build an oscillator in C++</a></li></ul></li><li>Math<ul><li><a href="https://www.sparknotes.com/math/trigonometry/graphs/section4/">Simple trigonometry explanation</a></li><li><a href="https://stackoverflow.com/questions/1073606/is-there-a-one-line-function-that-generates-a-triangle-wave/1073634#1073634">Some waveform formulas</a></li><li><a href="https://docs.cycling74.com/max5/tutorials/msp-tut/mspdigitalaudio.html">Nice introduction resource on how audio works from a mathematical perspective</a></li><li><a href="http://www-math.bgsu.edu/~zirbel/sound/Trigonometric%20functions%20and%20sound.pdf">Really helpful resource on how to render chords properly</a></li><li><a href="https://en.wikipedia.org/wiki/Damped_sine_wave">Wikipedia article on how to dampen a sin wave (very useful!)</a></li><li><a href="https://dsp.stackexchange.com/questions/2555/help-with-equations-for-exponential-adsr-envelope">ADSR models</a></li><li><a href="https://www.desmos.com/calculator/nduy9l2pez">ADSR model used by WASM Synth</a></li></ul></li><li>Music Theory:<ul><li><a href="https://de.m.wikipedia.org/wiki/Gleichstufige_Stimmung">Wikipedia: Gleichstufige Stimmung</a></li><li><a href="https://electronics.stackexchange.com/questions/32310/what-exactly-are-harmonics-and-how-do-they-appear">What exactly are harmonics and where do they appear?</a></li></ul></li><li>Web Audio API:<ul><li><a href="https://github.com/cwilso/midi-synth">MIDI synth project</a></li><li><a href="https://webaudiodemos.appspot.com/slides/index.html#/">Slides about the Web Audio API</a></li><li><a href="https://www.webaudiomodules.org/">Collection of Web Audio Synths</a></li><li><a href="https://github.com/audiojs/web-audio-api/blob/f80aaa6bfaaa41d418f3316d767ac0f88f6bc4e0/lib/AudioParam.js#L172">WebAudio API implementation for Node.js detailing gain up and down ramping</a></li><li><a href="http://teropa.info/blog/2016/08/30/amplitude-and-loudness.html">Explanation on the relationship of Gain and Decibels in the WebAudio API</a></li><li><a href="https://blog.mecheye.net/2017/09/i-dont-know-who-the-web-audio-api-is-designed-for/">Person complaining about the Web Audio API</a></li><li><a href="https://github.com/chrisguttandin/standardized-audio-context">Super useful polyfill for the Web Audio API</a></li></ul></li><li>Misc:<ul><li><a href="https://www.szynalski.com/tone-generator/">An online sound generator</a></li><li><a href="https://stackoverflow.com/questions/21238543/c-al-altypes-h-no-such-file-or-directory">Explanation on how to output a sin wave in OpenAL</a></li></ul></li></ul><h2 id="appendix">Appendix</h2><h3 id="the-emscripten-build-pipeline">The <code>emscripten</code> Build Pipeline</h3><p>A question I had before working with emscripten was: &quot;How do I integrate WebAssembly into my regular web app build, without bloating it too much?&quot;. To put things into perspective: I had just recently switched from Webpack to rollup.js as I was sick of spending hours setting up Webpack with its ten thousand magic configuration options.</p><p>To my surprise, however, neither framework has reasonable defaults for handling WebAssembly yet. Notably, when we generated the WebAssembly outputs using emscripten and they <a href="https://developers.google.com/web/updates/2018/04/loading-wasm">grew bigger than 4KB</a>. But there were other problems too:</p><ul><li>rollup.js bundles all source file into a single JavaScript file.</li><li>Booting the app, also means booting react.js, which itself starts a continuous process that we&apos;ll somehow have to take into account.</li><li>emscripten generates a <code>.wasm</code> and a <code>.js</code> file. The <code>.wasm</code> file contains all C++ source code as well as WebAssembly instructions. The <code>.js</code> file acts as the glue between WebAssembly and JavaScript.<ul><li>In some cases, there&apos;s this 4KB size limit on loading <code>.wasm</code> files</li><li>The emscripten <code>.js</code> glue code is super useful. I can recommend including it into your code deliverable.</li></ul></li><li>The <code>AudioWorklet</code> is supposed to be included into the page by using <code>new AudioContext().addModule(&lt;path&gt;)</code><ul><li>It has a separate global scope. But emscripten&apos;s glue code relies on the global scope too (<code>Module</code> object)</li></ul></li><li>Rollup.js doesn&apos;t have good defaults or plugins for bundling emscripten-generated <code>.wasm</code> code.</li></ul><p>In the end, this led me to build a custom pipeline to bundle emscripten builds every time my source changed. But before I explain how, let&apos;s take a step back to understand how emscripten&apos;s compilation works.</p><p>On installation, emscripten exports a command-line utility called <code>emcc</code> into the shell. To demonstrate its capabilities, let&apos;s try compiling the <code>Hello World</code> example from the beginning of the post:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;emscripten/bind.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> emscripten;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">std</span>::<span class="built_in">string</span> <span class="title">hello</span><span class="params">()</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// <span class="doctag">NOTE:</span> Using embind, we can define `hello`&apos;s external name</span></span><br><span class="line">EMSCRIPTEN_BINDINGS(my_module) {</span><br><span class="line">  function(<span class="string">&quot;hello&quot;</span>, &amp;hello);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>To make it executable by a browser, we&apos;ll use <code>emcc</code> to compile it to a <code>.wasm</code> and a <code>.js</code> file.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ emcc main.cc --<span class="built_in">bind</span> -WASM=1 -o main.js</span><br></pre></td></tr></table></figure><p><code>emcc</code> here simply compiles all functions contained in <code>main.cc</code> into a <code>main.wasm</code> file. Besides, it also generates this glue code (<code>main.js</code>) using <a href="https://emscripten.org/docs/porting/connecting_cpp_and_javascript/embind.html">Embind</a>. It allows us to invoke functions, initially written in C++, directly from within JavaScript as if they were just regular classes. So to make emscripten&apos;s outputs work correctly, we&apos;ll have to include the <code>.js</code> into the page. On the initialization of the page, emscripten&apos;s clue code is loading the <code>.wasm</code> file asynchronously. Through some trick, the browser skips the 4KB file size limit, and all our C++ classes are now available as native JS classes:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;wasm/main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      Module.onRuntimeInitialized = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(Module.hello());</span></span><br><span class="line">      }</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>So far, so good. But, as I&apos;ve mentioned previously, one of the problems now is that the <code>AudioWorklet</code>, being spawned in a separate thread with a separate global scope, won&apos;t be aware of emscripten&apos;s <code>window.Module</code>. So how do we export code from within a Worklet?</p><p>After spending quite some time researching that question, I discovered that the Google Chrome Labs team <a href="https://github.com/GoogleChromeLabs/web-audio-samples/blob/master/audio-worklet/design-pattern/wasm/index.html">recommends</a> transpiling all JavaScript source into <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules">native modules</a> and then simply use ES6&apos;s <code>import from</code> syntax. Well, it turns out the JS modules syntax <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules">isn&apos;t widely supported yet</a>, particularly not in <code>Workers</code>, let alone <code>Worklets</code>...</p><p><img src="/assets/images/import-support.png"></p><p>But luckily, after banging my head another few days against JS modules and other fancy new front end frameworks, I found a surprisingly simple trick.</p><p>I reduce emscripten&apos;s outputs to a single <code>.js</code> file that contains the <code>.wasm</code> as base64 string using it&apos;s <code>-s SINGLE_FILE=1</code> option. As we need emscripten&apos;s <code>.js</code> file to define <code>window.Module</code> in the <code>AudioWorklet</code>&apos;s global scope, I then simply append the emscripten JavaScript file with the <code>AudioWorklet</code>&apos; JavaScript file to make them configure the same global scope. That allows me to execute WebAssembly from within a Worklet without using the poorly supported <code>import from</code> syntax. Ultimately, I ended up with the following bash script (or on <a href="https://github.com/TimDaub/wasm-synth/blob/master/scripts/build.sh">GitHub</a>):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line">DIR=<span class="string">&quot;.wasm&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> Generates the .wasm directory if it doesn&apos;t exist yet.</span></span><br><span class="line"><span class="keyword">if</span> [ ! -d <span class="variable">$DIR</span> ]; <span class="keyword">then</span></span><br><span class="line">  mkdir <span class="variable">$DIR</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># NOTE `-std`: To use modern c++11 features like std::tuple and std::vector,</span></span><br><span class="line"><span class="comment"># we need to enable C++ 11 by passing the parameter to gcc through emcc.</span></span><br><span class="line">emcc src/cpp/*.cc \</span><br><span class="line">  -std=c++11 \</span><br><span class="line">  -O1 \</span><br><span class="line">  -s WASM=1 \</span><br><span class="line">  -s ALLOW_MEMORY_GROWTH=1 \</span><br><span class="line">  -s BINARYEN_ASYNC_COMPILATION=0 \</span><br><span class="line">  -s SINGLE_FILE=1 \</span><br><span class="line">  -s MODULARIZE=1 \</span><br><span class="line">  --<span class="built_in">bind</span> \</span><br><span class="line">  -o <span class="variable">$DIR</span>/main.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> We concat the emscripten generated js and wasm file with the worklet</span></span><br><span class="line"><span class="comment"># such that we don&apos;t have to import it later as an es6 module. This</span></span><br><span class="line"><span class="comment"># achieves better cross-browser compatibility.</span></span><br><span class="line">cat <span class="variable">$DIR</span>/main.js src/js/worklets/synth.js &gt; public/worklets/synth.js</span><br></pre></td></tr></table></figure><p>To update the page every time the source changed, I additionally used <a href="https://www.npmjs.com/package/npm-watch"><code>npm-watch</code></a> to re-run the routine each time file changes occur.</p><hr><p><em>Footnotes:</em></p><p><small><a name="f1">1</a>: I couldn&apos;t find a specific reason for why <code>setTimeout</code> and <code>setInterval</code> are inaccurate. I&apos;m suspecting it has to do with JavaScript&apos;s event loop. Please let me know if you have more details. <a href="#a1">&#x2191;</a></small></p><p><small><a name="f2">2</a>: 48 kHz is the standard audio sampling rate used by professional digital video equipment <a href="#a2">&#x2191;</a></small></p><p><small><a name="f3">3</a>: Yes, you can hire me! I&apos;ve written something about myself <a href="/about/">here</a>. Also, check out my <a href="/projects/">projects</a> page! TL;DR: I&apos;m a Senior JavaScript dev that is looking for remote or Berlin-based work in the fields of music, blockchain/cryptocurrencies or both! Please reach out via <a href="mailto:tim@daubenschuetz.de">email</a> <a href="#a3">&#x2191;</a></small></p><p><small><a name="f4">4</a>: In a previous version of this post, I claimed that the AudioWorklet was essentially implemented as a fancy version of a ring buffer. Paul Adenot from Mozilla gladly made me aware that this is incorrect. He referred me to <a href="https://webaudio.github.io/web-audio-api/#processing-model-background">this section</a> of the Web Audio API W3C Editor&apos;s Draft for more accurate information. <a href="#a4">&#x2191;</a></small></p><p><small><a name="f5">5</a>: Or is it? I&apos;ve talked this through with a bunch of friends and colleagues of mine and so far I&apos;ve had trouble finding a good arguments for why that should or shouldn&apos;t be. <a href="#a5">&#x2191;</a></small></p><p><small><a name="f6">6</a>: After writing this article, I had a very interesting conversation with a senior engineer at Ableton and he explained to me the difference between &quot;jitter&quot; and &quot;latency&quot;. The key difference being that one is deterministic and the other one isn&apos;t. But since we had this conversation at a very &quot;late&quot; point of the evening, I don&apos;t dare to recite everything he said here. <a href="#a6">&#x2191;</a></small></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css&quot; integrity=&quot;sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/r</summary>
      
    
    
    
    
    <category term="Music" scheme="https://timdaub.github.io/tags/Music/"/>
    
    <category term="Web" scheme="https://timdaub.github.io/tags/Web/"/>
    
    <category term="WASM" scheme="https://timdaub.github.io/tags/WASM/"/>
    
    <category term="WebAssembly" scheme="https://timdaub.github.io/tags/WebAssembly/"/>
    
    <category term="C++" scheme="https://timdaub.github.io/tags/C/"/>
    
    <category term="Synthesizer" scheme="https://timdaub.github.io/tags/Synthesizer/"/>
    
    <category term="AudioWorklet" scheme="https://timdaub.github.io/tags/AudioWorklet/"/>
    
    <category term="ESNext" scheme="https://timdaub.github.io/tags/ESNext/"/>
    
    <category term="Math" scheme="https://timdaub.github.io/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>Sauerteigbrot selber machen</title>
    <link href="https://timdaub.github.io/2020/01/11/sourdough/"/>
    <id>https://timdaub.github.io/2020/01/11/sourdough/</id>
    <published>2020-01-11T10:13:29.000Z</published>
    <updated>2020-01-11T10:13:29.000Z</updated>
    
    <content type="html"><![CDATA[<p><em>(Disclaimer: Dieser Post ist &quot;Work in Progress&quot;. Ich arbeite noch am perfekten Sauerteigbrot. Die Angaben auf dieser Seite werden sich also sehr wahrscheinlich noch verbessern.)</em></p><h2 id="anstellgut-herstellen">Anstellgut herstellen</h2><p>Um ein Sauerteigbrot zu backen wird zun&#xE4;chst ein <em>&quot;Anstellgut&quot;</em> ben&#xF6;tigt. Ein Anstellgut ist einfach vergorenes Mehl und Wasser. Milchs&#xE4;urebakterien auf der Schale einiger Getreide treiben diese G&#xE4;rung vorran und so entwickelt sich eine nat&#xFC;rliche Hefekultur. Verschiedene Mehle (Roggen oder Weizen) produzieren verschiedene Anstellg&#xFC;ter.</p><p>Ein Anstellgut kann sehr einfach &#xFC;ber eine Dauer von f&#xFC;nf Tagen hergestellt werden. Dazu am besten <a href="https://www.chefkoch.de/rezepte/916071197018348/Sauerteig.html">diesem</a> Rezept folgen.</p><p>Einige Anmerkungen zu diesem Rezept:</p><ul><li><p>Wenn Ihr spontan keinen dauerhaft-warmen Platz in eurer Wohnung finden k&#xF6;nnt, bspw. im Winter, dann stellt euer Gef&#xE4;&#xDF; einfach in euren Backofen und macht die Lampe an. Dessen Hitze sorgt f&#xFC;r konstante 30&#xB0;C im Ofen und damit f&#xFC;r das ideale Klima f&#xFC;r eine Sauerteigverhefung.</p></li><li><p>Eine Anfangsmenge von 100g Mehl + 100g Wasser produzieren eine Menge Anstellgut. Man kann die Angaben im Rezept also auch gut halbieren.</p></li></ul><h2 id="anstellgut-am-leben-erhalten">Anstellgut am Leben erhalten</h2><p>Dar&#xFC;ber wie man das Anstellgut am Besten am Leben erh&#xE4;lt gibt es widerspr&#xFC;chliche Angaben im Netz. Foodblogger auf Youtube empfehlen meist das Anstellgut permanent bei Zimmertemperatur zu lagern und mind. 1x am Tag, optimalerweise aber 2x am Tag mit 1EL Mehl + 4 EL lauwarmem Wasser zu f&#xFC;ttern. Alternativ kann das Anstellgut aber anscheinend auch im K&#xFC;hlschrank gelagert werden und nur 1x die Woche mit 1EL Mehl + 4 EL lauwarmem Wasser gef&#xFC;ttert werden. Wird es allerdings im K&#xFC;hlschrank gelagert, ist eine <em>&quot;Reaktivierung&quot;</em> n&#xF6;tig. Hierzu wird, das sich im &quot;Winterschlaf&quot; befindliche Anstellgut, &#xFC;ber einige Tage mit neuer Nahrung (Mehl + Wasser) versorgt um den eigentlichen Brotteig dann mit einem sehr aktiven Anstellgut zu backen.</p><p>Seine Strategie sollte man also davon abh&#xE4;ngig machen wie spontan oder wie oft man Brot backen m&#xF6;chte.</p><p>Kleiner Tipp: Da eine t&#xE4;gliche F&#xFC;tterung nat&#xFC;rlich Unmengen an Anstellgut &#xFC;ber Zeit generiert, w&#xFC;rde dass ja auch logischerweise hei&#xDF;en oft Brot backen zu m&#xFC;ssen (oder Teile des Anstellgut wegzuwerfen). Man kann aus dem Anstellgut allerdings auch sehr leckere kleinere Fr&#xFC;hst&#xFC;ckssnacks braten. Also nicht weg werfen! <a href="https://www.youtube.com/watch?v=vVx2oFFptG0">Idee f&#xFC;r einen Snack</a>.</p><h2 id="sauerteigbrot-backen">Sauerteigbrot backen</h2><p><em>(Dieses Rezept ist WIP. Ich experimentiere noch. Au&#xDF;erdem fehlen mir z.T. auch noch die richtigen Zutaten.)</em></p><p>Zutaten:</p><ul><li>225g Weizenmehl (Type 550)</li><li>112g Dinkelmehl (Type 1050)</li><li>25g Roggenmehl (Type 1150)</li><li>75g Anstellgut</li><li>190g Wasser</li><li>1 Eigelb</li><li>Salz (nach Gef&#xFC;hl)</li><li>Erbsengro&#xDF;es St&#xFC;ck Hefe (nur wenn Anstellgut noch &quot;jung&quot; ist)</li></ul><p>Alle oben angebenen Zutaten, au&#xDF;er das Salz in einer gro&#xDF;en Sch&#xFC;ssel mischen. Ihr bekommt einen ziemlich w&#xE4;ssrigen Teig, aber das ist vollkommen OK. Dann einfach mit einer Frischhaltefolie oder einem feuchten Tuch &#xFC;ber Nacht in den K&#xFC;hlschrank packen.</p><p>Es ist wichtig zu beachten, dass ihr am n&#xE4;chsten Tag nun versucht den Teig schrittweise glatter zu kneten. Jedoch nicht nur durch Zugabe von Mehl, sondern auch durch die richtige Reifung und Knetmechanik! Den Teig also aus dem K&#xFC;hlschrank holen und salzen. Dann schrittweise ein wenig Weizenmehl hinzu geben, sodass der Teig schleimiger aber fester wird. Ist alles gut verknetet, den Teig bei Raumtemperatur f&#xFC;r 1-2h gehen lassen.</p><p><img src="/assets/images/dough-1.jpg"></p><p>Nach der Ruhe, den Teig wieder aus der Sch&#xFC;ssel holen und ihn auf eine saubere Fl&#xE4;che &quot;werfen und falten&quot;. <a href="https://www.youtube.com/watch?v=APEavQg8rMw&amp;t=200s">Dieses Video</a> erkl&#xE4;rt die Bewegung gut. Nachdem ihr das ca 10min gemacht habt, Teig wieder in Schale und weiter gehen lassen. Nach und nach sollte sich die Struktur eures Teigs ver&#xE4;ndert. Er wird glatter und weniger schleimig. Er l&#xE4;sst sich nicht nicht so einfach mehr in die L&#xE4;nge ziehen, etc..</p><p>Diese Art von Kneten einige Male wiederholen und zwischendurch Teig immer bei Raumtemperatur gehen lassen, bis ihr einen Teig habt der sch&#xF6;n fluffig und glatt ist.</p><p>Um eine sch&#xF6;ne Kruste beim Backen zu erhalten, m&#xFC;sst ihr nun die Oberfl&#xE4;chenspannung des Teigs erh&#xF6;hen. Um dies zu tun, versucht mit euren H&#xE4;nden die unteren Seiten des Teiges in dessen untere Mitte zu ziehen. <a href="https://www.youtube.com/watch?v=APEavQg8rMw&amp;t=300s">Dieses Video</a> erkl&#xE4;rt es ein wenig. Ihr m&#xFC;sst nicht genau das im Video machen. Aber spielt einfach ein wenig mit dem Teig und dann wird euch schon klar werden wie man mehr Spannung drauf bringt! Schlussendlich wollt ihr erreichen, dass auf der zuk&#xFC;nftigen Kruste des Brots Teigspannung entsteht und dass der Teig nicht einfach zu einem Fladen zusammensackt. Mit dem wiederholten Kneten und gehen lassen baut ihr also Schrittweise die Glutenstruktur des Teigs auf und stabilisiert diese.</p><p>Habt ihr nun also einen sch&#xF6;nen Teig, dann besorgt euch einen Brotkorb oder eine Sch&#xFC;ssel in die euer Teig passt und legt ein Tuch hinein. Mehlt das Tuch gro&#xDF;z&#xFC;gig und legt den Teig vorsichtig hinein.</p><p>Achtung: Man kann den Teig entweder mit seinem &quot;Saum&quot; nach <em>oben</em> oder <em>unten</em> legen. Beim Backen soll euer Brot ein wenig aufrei&#xDF;en. Das kann entweder mit einem Messerschnitt bewerkstelligt werden, wenn ihr euren Teig mit dem Saum nach oben legt, oder indem des Teigs Saum auf nat&#xFC;rliche Weise im Ofen aufreist. Geschmacksfrage...</p><p>Deckt den Teig in der Sch&#xFC;ssel mit dem &#xFC;bergebliebenen Tuch ab und lasst ihn wieder eine Weile gehen. Irgendwann sollte der Teig dann eine echt &quot;gem&#xFC;tliche&quot; Konsistenz haben wie ein mega weiches Kissen. Beim vorsichtigen dr&#xFC;cken mit einem Finger, sollte der Teig die Kuhle wieder schlie&#xDF;en (siehe Video). Ist dass der Fall, k&#xF6;nnt ihr schon mal den Ofen anheizen!</p><div style="width:100%;height:480px;background-color:black;text-align:center;"><pre><code>&lt;video style=&quot;height:100%;&quot; controls&gt;  &lt;source src=&quot;https://lh3.googleusercontent.com/03COS0G4L24d9Z6SmEbdXHeIdMy35NqD5VGMDFCrxKprnnwUUuujtQsjjiZ25WUwQKr1yuIBOt4NslifVvxtb73BmTjTi8OguAu1ozi-slBP7UzbazQ_c0vn1VMLIEH3D2n_F1FgN8k=m18&quot; type=&quot;video/mp4&quot;&gt;&lt;/video&gt;</code></pre></div><p>Um das Brot mit einer knusprigen Kruste zu backen, empfielt sich ein <a href="https://amzn.to/309qvrD">Gusseisentopf mit Deckel</a>. Den Ofen auf volle Hitze einstellen und Topf f&#xFC;r 30min vorw&#xE4;rmen.</p><p>Dann muss alles sicher und konzentriert passieren! Den Teig mit einem gemehlten Brett aus eurer Sch&#xFC;ssel st&#xFC;rzen. Den Topf VORSICHTIG mit Handschuhen aus dem Ofen holen, Teig in den Topf geben, (optional: Narbe einschneiden) und ein wenig Wasser mit der Hand an die Seiten des Topfs spr&#xFC;hen um Wasserdampf zu erzeugen. Dann Deckel drauf (ACHTUNG HEISS!) und ab in den Ofen f&#xFC;r 25min. 220-240&#xB0;C sind gut. Den Deckel unter keinen Umst&#xE4;nden &#xF6;ffnen.</p><p>Dann nach 25min, Deckel entfernen. Jetzt sollte eigentlich schon die Struktur der Kruste klar erkennbar sein. In den n&#xE4;chsten +-25min backt ihr dann die Br&#xE4;une der Kruste. Daf&#xFC;r den Ofen auf 200-220&#xB0;C stellen und regelm&#xE4;&#xDF;ig einen Blick hineinwerfen. Seit ihr mit eurer Kruste zufrieden, einfach das Brot aus dem Topf holen und auf einem Blech k&#xFC;hlen lassen.</p><p>Nicht direkt anschneiden, sondern mehrere Stunden warten um dem Brot Zeit zu geben auszuk&#xFC;hlen.</p><p>Alternativ kann nach erreichen einer tollen Krustenfarbe auch der Ofen ausgestellt und die T&#xFC;r angelehnt werden. Anscheinend wird das Brot dann extra knusprig (B&#xE4;ckertrick!).</p><p>Hier meine ersten Ergebnisse:</p><p><img src="/assets/images/bread-1.jpg"> <img src="/assets/images/bread-2.jpg"></p><p>Et voila, ihr habt eurer erstes Sauerteigbrot gebacken! Hoffe diese Anleitung konnte jemandem weiterhelfen :)</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;em&gt;(Disclaimer: Dieser Post ist &amp;quot;Work in Progress&amp;quot;. Ich arbeite noch am perfekten Sauerteigbrot. Die Angaben auf dieser Seite </summary>
      
    
    
    
    
    <category term="sourdough" scheme="https://timdaub.github.io/tags/sourdough/"/>
    
    <category term="bread" scheme="https://timdaub.github.io/tags/bread/"/>
    
    <category term="baking" scheme="https://timdaub.github.io/tags/baking/"/>
    
    <category term="backen" scheme="https://timdaub.github.io/tags/backen/"/>
    
    <category term="sauerteig" scheme="https://timdaub.github.io/tags/sauerteig/"/>
    
  </entry>
  
  <entry>
    <title>Reasons to not ship a PoA network</title>
    <link href="https://timdaub.github.io/2019/02/28/poa/"/>
    <id>https://timdaub.github.io/2019/02/28/poa/</id>
    <published>2019-02-28T12:18:14.000Z</published>
    <updated>2019-02-28T12:18:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>This story is written in response to &#x201C;<a href="https://blog.oceanprotocol.com/ocean-on-poa-vs-ethereum-mainnet-decd0ac72c97">Ocean on PoA vs. Ethereum Mainnet?</a>&#x201D;. In this article, I&#x2019;ll argue for why I think it is a bad choice to ship to a Proof-of-Authority network for a project that wants to go permission-less in the future.</p><h2 id="introduction">Introduction</h2><p>Proof-of-Authority is an algorithm used in blockchains that delivers fast throughput (tx/s), finality and low fees through a consensus mechanism based on identity as stake. Both Geth and Parity can easily configured to run on POA. It allows projects to orchestrate their own networks that run in parallel to the Ethereum main chain. POA chains can be configured to be public or private. POA has the following positives:</p><ol type="1"><li><p>Finality (time for a block to be confirmed), throughput (e.g. tx/s), latency and fees can be configured, hence compared to the Ethereum main chain performance is significantly increased.</p></li><li><p>The Ethereum client running the POA can essentially be customized such that new use cases can be fulfilled. In the case of POA.network&#x2019;s xDai, Dai is the native currency. Transaction fees are paid in Dai. Very cool.</p></li><li><p>POA chains benefit Ethereum. Its main chain is not scaling at this point. Even though Plasma (e.g. LeapDAO) and L2 (e.g. Raiden) are shipping, many see sidechains (e.g. POA networks) as a viable scaling mechanism.</p></li></ol><p>I introduce Proof-of-Authority chains and their positives. The next section dives into the problems of POA networks.</p><h2 id="problems">Problems</h2><p>Firstly, I&#x2019;d like to say that there&#x2019;s nothing inherently wrong with shipping on a POA chain per-se. It&#x2019;s more about the intend behind shipping to POA chains.</p><p>Are you orchestrating a POA chain in your company to issue private tokens for your employees to send around. Great! Are you shipping a public plasma-enabled POA chain that allows users to exit the chain fairly. Cool!</p><p>I&#x2019;d like to argue, however, that when your goal is to arrive at a permission-less, decentralized and transparent network, you shouldn&#x2019;t ship to POA first. In the following sections, I&#x2019;ll argue for why that is.</p><h2 id="security-guarantees">Security Guarantees</h2><p>Proof-of-Authority in a public setting is a bad choice, as it has different security guarantees compared to a PoW or PoS network.</p><div class="twitter-wrapper"><blockquote class="twitter-tweet"><a href="https://twitter.com/nicksdjohnson/status/1102455394838822912"></a></blockquote></div><script async defer src="//platform.twitter.com/widgets.js" charset="utf-8"></script><ol type="1"><li><p>Users have to trust in your <a href="http://unenumerated.blogspot.com/2006/11/wet-code-and-dry.html">wet code</a>. Or simplified: How nodes are run is essentially defined in legal documents. Node operators agree to run the nodes according to these documents. If they don&#x2019;t comply, they&#x2019;ll face legal issues. To my knowledge, no precedence has been set in court yet. Note: I&#x2019;m not a lawyer. Building a system with wet code leads, however, to the following properties: (A) It&#x2019;s not permission-less as in: Everybody can, without the incurrence of a cost, to innovate or influence on any part of the infrastructure.(B) It&#x2019;s not necessarily transparent as in: Everybody can follow the decision-making processes. (C) It&#x2019;s not open as in: Everybody can choose to join the network without facing gatekeepers.</p></li><li><p>Identity at stake is not a strong incentive for businesses running nodes. When the only skin-in-the-game is identity, many node operators fail to even get off the ground. An example: Assume you want to run a POA network that&#x2019;s about storing data. You get lucky and convince the Internet Archive to run a node on your network. You promise them: &#x201C;By running a node on our network, you&#x2019;ll easily break even by cashing-in on the transaction fees&#x201D;. Now here&#x2019;s what would happen: The Internet Archive is not in the business of running blockchains. Their core business model doesn&#x2019;t depend on it. That means, in case they fail to run a node for some reason, they have almost nothing to lose. OK, then say you convince an aspiring blockchain startup to run a node. They&#x2019;re in the business of making money on blockchains! Well, even though they might run the risk of suffering a reputation-crisis, that won&#x2019;t affect their bank account much. Depending on their business model and product, they might still be able to make money. Alright, then let&#x2019;s assume you score one of your customers to run a node. Well in that case, they might actually have vested interest in keeping the network up and running. Generally, I&#x2019;d say then: A node operator needs to have significant money at stake (or skin in the game) for them to be acting in the interests of the network. Hence, PoS or PoW is usually a good choice in a public setting.</p></li><li><p>Collusion of entities is likely. To join a PoA network, entities will have to email their public keys back and forth. It makes total sense for them to stay in touch, as they&#x2019;re responsible for keeping the network up and running. That, however, removes the anonymous nature of running a PoW or PoS network. All of a sudden it becomes very easy for entities to collude. Of course, they&#x2019;re legally bound not to, but as we&#x2019;ve seen from the previous points, they might not be incentivized through stake to act in the interest of the network.</p></li><li><p>Token-bridges are centralized. There&#x2019;s a reason for Plasma to exist. Essentially, it allows users to exit the chain in case of e.g. a (Byzantine) fault. In Plasma, users don&#x2019;t need the permission of any authority to exit. Exits are facilitated through an on-chain contract that&#x2019;s tracking balances. Token-bridges, in contrast, are likely hosted on cloud providers like AWS by the same organization that&#x2019;s potentially also running a node. This means that when a user transfers money to a POA chain, they have to not only trust the organizations running the nodes but also organization running the token-bridge!</p></li><li><p>Developers that ship to a POA chain will write different code than developers shipping on a main net. The security guarantees are simply different. On POA, developers can easily take short cuts without spending much time thinking about the horrors of adversarial open networks. Speaking from my own experience, when security guarantees change, the code is usually very costly (time and money) to port.</p></li></ol><p>Now that I discussed the security guarantees of a POA network, let&#x2019;s move on to UX.</p><h2 id="user-and-developer-experience">User (and Developer) Experience</h2><p>Running a POA network is going to give users bad experiences for these reasons:</p><p><img src="/assets/images/clippy.jpg"></p><ol type="1"><li><p>Let&#x2019;s be honest. Today&#x2019;s users struggle to understand what blockchains are. In deploying a separate network (e.g. POA), users will have to additionally learn what it is. They&#x2019;ll have to manually set the endpoint in Metamask. They&#x2019;ll have to always remember when to change the Metamask endpoint and for which application. They&#x2019;ll have to understand what a token-bridge is. They&#x2019;ll have to do the accounting for how much of their money is on the POA net vs. main net. Some apps won&#x2019;t allow setting POA network endpoints. They&#x2019;ll have to understand that even though POA addresses look the same as main net addresses, when sending money to a wrong address all their ETH could be gone. Should I go on? Ethereum user interfaces are built for the main net. User education happens on the main net. In terms of UX, <a href="https://twitter.com/Iiterature/status/1099782348562870273">POA networks are the FTP protocols of blockchains</a>.</p></li><li><p>Smart contract composability. IMO, the Ethereum killer feature. Essentially, the reason for why we have DeFi today. While token-bridges allow for cross-chain value transfer, transfer of state isn&#x2019;t possible <a href="https://ethresear.ch/t/why-smart-contracts-are-not-feasible-on-plasma/2598">and likely won&#x2019;t be in the future</a>. I&#x2019;d like to make this extra clear: A contract deployed on a POA network will not be able to interact with a contract on the main network through state (e.g. calling functions). Yes, value can be sent through a token-bridge and that means one could potentially send ETH/ERC20 from: POA contract -&gt; token-bridge -&gt; e.g. Uniswap. Most DeFi requires the calling of contract&#x2019;s methods, however. Not having smart contract composability leads to the following: (1) Developers will not be able to plug into your contract APIs unless they also ship on your POA network. (2) Your projects will not profit as much from open-source collaboration, assuming most developers want to ship on the main net.</p></li><li><p>POA prohibits layer 2 scaling. Most layer 2 scaling solutions are developed specifically to solve the problems of the Ethereum main net. On a POA (and sidechain), you&#x2019;ll not directly profit when these technologies get rolled out. Instead you&#x2019;ll have to spend significant time and money to customize them.</p></li></ol><h2 id="misc.">Misc.</h2><ol type="1"><li>Building tools and deploying a POA network is work. In fact, it&#x2019;s a distraction. The money you spend on customizing and deploying your POA will be wasted once you ship to main net. As outlined before, it will put the engineers in the wrong mind set. It&#x2019;s distracting them from shipping the best product they possibly can, I&#x2019;d argue.</li></ol><h2 id="solutions">Solutions</h2><p>I outline a few possible solutions that remove POA (but not side chains) from the equation.</p><ol type="1"><li><p>Ship to main net and wait for e.g. ETH 2.0/Polkadot. Least costly. Best security guarantees. Bad performance. UX will be painful but improving rapidly as you can profit from the community making progress (e.g. meta-transactions). Full focus on shipping product though. No distractions. You&#x2019;ll profit from composability and projects integrating.</p></li><li><p>Ship to main net and investigate alternatives to POA that offer better security guarantees to users (e.g. Loom Network is shipping dPoS &#x2014; node operators actually lose money when they misbehave). Not that costly, I imagine. Better performance than main net. Better security guarantees. UX will be same as POA. You won&#x2019;t profit from main net innovation as much.</p></li><li><p>Ship to main net and investigate Plasma as an alternative. Most costly and complex, I imagine. Good performance. Better security guarantees than POA. You&#x2019;ll profit from the innovation going into Plasma. UX will be as bad as POA but through community innovation will increase at rapid pace.</p></li><li><p>Ship to main net and consider L2 via e.g. Raiden. Costly as contracts have to be adjusted. Good performance. Better security guarantees than POA. Innovation in UX through community at rapid pace.</p></li></ol><p>All the solutions outlined come as &#x201C;off the shelf&#x201D; to some degree and with security guarantees similar to main net. They&#x2019;re all more or less shipping today.</p><h2 id="conclusion">Conclusion</h2><p>In this post I argue for why shipping a public POA network is a bad choice when planning to go permission-less in the future by highlighting the security and UX challenges users will face. I give alternative solutions to POA.</p><p><em>(This article was originally posted on <a href="https://medium.com/@timdaub/why-you-shouldnt-ship-to-a-poa-network-7e2b5aa83aa9">medium.com</a>)</em></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;This story is written in response to &amp;#x201C;&lt;a href=&quot;https://blog.oceanprotocol.com/ocean-on-poa-vs-ethereum-mainnet-decd0ac72c97&quot;&gt;Ocean</summary>
      
    
    
    
    
    <category term="crypto currency" scheme="https://timdaub.github.io/tags/crypto-currency/"/>
    
    <category term="blockchain" scheme="https://timdaub.github.io/tags/blockchain/"/>
    
    <category term="poa" scheme="https://timdaub.github.io/tags/poa/"/>
    
    <category term="ethereum" scheme="https://timdaub.github.io/tags/ethereum/"/>
    
    <category term="smart contracts" scheme="https://timdaub.github.io/tags/smart-contracts/"/>
    
    <category term="decentralized finance" scheme="https://timdaub.github.io/tags/decentralized-finance/"/>
    
    <category term="defi" scheme="https://timdaub.github.io/tags/defi/"/>
    
  </entry>
  
</feed>
